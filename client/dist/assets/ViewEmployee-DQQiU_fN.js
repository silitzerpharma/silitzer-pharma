import{g as un,a as fn,r as h,a8 as Ht,j as t,aB as Gn,H as Ct,ai as _t,aC as Zn,b as hn,_ as mn,u as vn,s as ht,ac as gn,a9 as nt,$ as Kn,a7 as Yt,aD as Qn,a6 as er,c as qt,J as rt,ad as tr,K as xn,m as At,d as yn,aE as Jt,f as jn,T as ae,Y as mt,U as Rt,D as Xt,L as vt,X as Gt,B as ee,P as wn,y as re,w as nr,aF as rr,aG as or}from"./index-DlcvTWOH.js";import{u as sr}from"./useControlled-CHhDBfC_.js";import{I as Ne}from"./IconButton-eRt6TsSc.js";import{u as ar}from"./index-0sQ3Nx8k.js";import{D as gt,a as xt,b as yt,c as ir}from"./DialogTitle-DGL2koDV.js";import{S as ot}from"./Stack-B0Za308U.js";import{t as ut,m as $t,c as lr,b as bn,f as H}from"./format-CfEi8zQK.js";import{T as de}from"./TextField-Doo77Nta.js";import{T as Tn}from"./TableContainer-CQmYnS7h.js";import{T as Dn,a as Sn,b as Oe,c as A,d as kn}from"./TableRow-DuThesGT.js";import cr from"./AdminEmployeeRequests-DZFFnkgY.js";var F="top",Y="bottom",q="right",U="left",Mt="auto",Ge=[F,Y,q,U],Pe="start",Je="end",dr="clippingParents",Cn="viewport",ze="popper",pr="reference",Zt=Ge.reduce(function(n,e){return n.concat([e+"-"+Pe,e+"-"+Je])},[]),En=[].concat(Ge,[Mt]).reduce(function(n,e){return n.concat([e,e+"-"+Pe,e+"-"+Je])},[]),ur="beforeRead",fr="read",hr="afterRead",mr="beforeMain",vr="main",gr="afterMain",xr="beforeWrite",yr="write",jr="afterWrite",wr=[ur,fr,hr,mr,vr,gr,xr,yr,jr];function ie(n){return n?(n.nodeName||"").toLowerCase():null}function W(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function je(n){var e=W(n).Element;return n instanceof e||n instanceof Element}function _(n){var e=W(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Bt(n){if(typeof ShadowRoot>"u")return!1;var e=W(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function br(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var o=e.styles[r]||{},s=e.attributes[r]||{},a=e.elements[r];!_(a)||!ie(a)||(Object.assign(a.style,o),Object.keys(s).forEach(function(p){var i=s[p];i===!1?a.removeAttribute(p):a.setAttribute(p,i===!0?"":i)}))})}function Tr(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(o){var s=e.elements[o],a=e.attributes[o]||{},p=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:r[o]),i=p.reduce(function(c,f){return c[f]="",c},{});!_(s)||!ie(s)||(Object.assign(s.style,i),Object.keys(a).forEach(function(c){s.removeAttribute(c)}))})}}const Dr={name:"applyStyles",enabled:!0,phase:"write",fn:br,effect:Tr,requires:["computeStyles"]};function se(n){return n.split("-")[0]}var ye=Math.max,ft=Math.min,Le=Math.round;function Et(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Nn(){return!/^((?!chrome|android).)*safari/i.test(Et())}function Ae(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=n.getBoundingClientRect(),s=1,a=1;e&&_(n)&&(s=n.offsetWidth>0&&Le(o.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Le(o.height)/n.offsetHeight||1);var p=je(n)?W(n):window,i=p.visualViewport,c=!Nn()&&r,f=(o.left+(c&&i?i.offsetLeft:0))/s,d=(o.top+(c&&i?i.offsetTop:0))/a,m=o.width/s,y=o.height/a;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f,x:f,y:d}}function It(n){var e=Ae(n),r=n.offsetWidth,o=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:o}}function On(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&Bt(r)){var o=e;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function pe(n){return W(n).getComputedStyle(n)}function Sr(n){return["table","td","th"].indexOf(ie(n))>=0}function he(n){return((je(n)?n.ownerDocument:n.document)||window.document).documentElement}function jt(n){return ie(n)==="html"?n:n.assignedSlot||n.parentNode||(Bt(n)?n.host:null)||he(n)}function Kt(n){return!_(n)||pe(n).position==="fixed"?null:n.offsetParent}function kr(n){var e=/firefox/i.test(Et()),r=/Trident/i.test(Et());if(r&&_(n)){var o=pe(n);if(o.position==="fixed")return null}var s=jt(n);for(Bt(s)&&(s=s.host);_(s)&&["html","body"].indexOf(ie(s))<0;){var a=pe(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Ze(n){for(var e=W(n),r=Kt(n);r&&Sr(r)&&pe(r).position==="static";)r=Kt(r);return r&&(ie(r)==="html"||ie(r)==="body"&&pe(r).position==="static")?e:r||kr(n)||e}function Ft(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ye(n,e,r){return ye(n,ft(e,r))}function Cr(n,e,r){var o=Ye(n,e,r);return o>r?r:o}function Pn(){return{top:0,right:0,bottom:0,left:0}}function Ln(n){return Object.assign({},Pn(),n)}function An(n,e){return e.reduce(function(r,o){return r[o]=n,r},{})}var Er=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Ln(typeof e!="number"?e:An(e,Ge))};function Nr(n){var e,r=n.state,o=n.name,s=n.options,a=r.elements.arrow,p=r.modifiersData.popperOffsets,i=se(r.placement),c=Ft(i),f=[U,q].indexOf(i)>=0,d=f?"height":"width";if(!(!a||!p)){var m=Er(s.padding,r),y=It(a),g=c==="y"?F:U,T=c==="y"?Y:q,j=r.rects.reference[d]+r.rects.reference[c]-p[c]-r.rects.popper[d],v=p[c]-r.rects.reference[c],D=Ze(a),S=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,C=j/2-v/2,u=m[g],b=S-y[d]-m[T],k=S/2-y[d]/2+C,E=Ye(u,k,b),O=c;r.modifiersData[o]=(e={},e[O]=E,e.centerOffset=E-k,e)}}function Or(n){var e=n.state,r=n.options,o=r.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||On(e.elements.popper,s)&&(e.elements.arrow=s))}const Pr={name:"arrow",enabled:!0,phase:"main",fn:Nr,effect:Or,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Re(n){return n.split("-")[1]}var Lr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ar(n,e){var r=n.x,o=n.y,s=e.devicePixelRatio||1;return{x:Le(r*s)/s||0,y:Le(o*s)/s||0}}function Qt(n){var e,r=n.popper,o=n.popperRect,s=n.placement,a=n.variation,p=n.offsets,i=n.position,c=n.gpuAcceleration,f=n.adaptive,d=n.roundOffsets,m=n.isFixed,y=p.x,g=y===void 0?0:y,T=p.y,j=T===void 0?0:T,v=typeof d=="function"?d({x:g,y:j}):{x:g,y:j};g=v.x,j=v.y;var D=p.hasOwnProperty("x"),S=p.hasOwnProperty("y"),C=U,u=F,b=window;if(f){var k=Ze(r),E="clientHeight",O="clientWidth";if(k===W(r)&&(k=he(r),pe(k).position!=="static"&&i==="absolute"&&(E="scrollHeight",O="scrollWidth")),k=k,s===F||(s===U||s===q)&&a===Je){u=Y;var x=m&&k===b&&b.visualViewport?b.visualViewport.height:k[E];j-=x-o.height,j*=c?1:-1}if(s===U||(s===F||s===Y)&&a===Je){C=q;var l=m&&k===b&&b.visualViewport?b.visualViewport.width:k[O];g-=l-o.width,g*=c?1:-1}}var w=Object.assign({position:i},f&&Lr),L=d===!0?Ar({x:g,y:j},W(r)):{x:g,y:j};if(g=L.x,j=L.y,c){var N;return Object.assign({},w,(N={},N[u]=S?"0":"",N[C]=D?"0":"",N.transform=(b.devicePixelRatio||1)<=1?"translate("+g+"px, "+j+"px)":"translate3d("+g+"px, "+j+"px, 0)",N))}return Object.assign({},w,(e={},e[u]=S?j+"px":"",e[C]=D?g+"px":"",e.transform="",e))}function Rr(n){var e=n.state,r=n.options,o=r.gpuAcceleration,s=o===void 0?!0:o,a=r.adaptive,p=a===void 0?!0:a,i=r.roundOffsets,c=i===void 0?!0:i,f={placement:se(e.placement),variation:Re(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Qt(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:p,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Qt(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $r={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rr,data:{}};var st={passive:!0};function Mr(n){var e=n.state,r=n.instance,o=n.options,s=o.scroll,a=s===void 0?!0:s,p=o.resize,i=p===void 0?!0:p,c=W(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(d){d.addEventListener("scroll",r.update,st)}),i&&c.addEventListener("resize",r.update,st),function(){a&&f.forEach(function(d){d.removeEventListener("scroll",r.update,st)}),i&&c.removeEventListener("resize",r.update,st)}}const Br={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mr,data:{}};var Ir={left:"right",right:"left",bottom:"top",top:"bottom"};function pt(n){return n.replace(/left|right|bottom|top/g,function(e){return Ir[e]})}var Fr={start:"end",end:"start"};function en(n){return n.replace(/start|end/g,function(e){return Fr[e]})}function Ut(n){var e=W(n),r=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Wt(n){return Ae(he(n)).left+Ut(n).scrollLeft}function Ur(n,e){var r=W(n),o=he(n),s=r.visualViewport,a=o.clientWidth,p=o.clientHeight,i=0,c=0;if(s){a=s.width,p=s.height;var f=Nn();(f||!f&&e==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}return{width:a,height:p,x:i+Wt(n),y:c}}function Wr(n){var e,r=he(n),o=Ut(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=ye(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),p=ye(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),i=-o.scrollLeft+Wt(n),c=-o.scrollTop;return pe(s||r).direction==="rtl"&&(i+=ye(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:p,x:i,y:c}}function zt(n){var e=pe(n),r=e.overflow,o=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+o)}function Rn(n){return["html","body","#document"].indexOf(ie(n))>=0?n.ownerDocument.body:_(n)&&zt(n)?n:Rn(jt(n))}function qe(n,e){var r;e===void 0&&(e=[]);var o=Rn(n),s=o===((r=n.ownerDocument)==null?void 0:r.body),a=W(o),p=s?[a].concat(a.visualViewport||[],zt(o)?o:[]):o,i=e.concat(p);return s?i:i.concat(qe(jt(p)))}function Nt(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function zr(n,e){var r=Ae(n,!1,e==="fixed");return r.top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r}function tn(n,e,r){return e===Cn?Nt(Ur(n,r)):je(e)?zr(e,r):Nt(Wr(he(n)))}function Vr(n){var e=qe(jt(n)),r=["absolute","fixed"].indexOf(pe(n).position)>=0,o=r&&_(n)?Ze(n):n;return je(o)?e.filter(function(s){return je(s)&&On(s,o)&&ie(s)!=="body"}):[]}function Hr(n,e,r,o){var s=e==="clippingParents"?Vr(n):[].concat(e),a=[].concat(s,[r]),p=a[0],i=a.reduce(function(c,f){var d=tn(n,f,o);return c.top=ye(d.top,c.top),c.right=ft(d.right,c.right),c.bottom=ft(d.bottom,c.bottom),c.left=ye(d.left,c.left),c},tn(n,p,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function $n(n){var e=n.reference,r=n.element,o=n.placement,s=o?se(o):null,a=o?Re(o):null,p=e.x+e.width/2-r.width/2,i=e.y+e.height/2-r.height/2,c;switch(s){case F:c={x:p,y:e.y-r.height};break;case Y:c={x:p,y:e.y+e.height};break;case q:c={x:e.x+e.width,y:i};break;case U:c={x:e.x-r.width,y:i};break;default:c={x:e.x,y:e.y}}var f=s?Ft(s):null;if(f!=null){var d=f==="y"?"height":"width";switch(a){case Pe:c[f]=c[f]-(e[d]/2-r[d]/2);break;case Je:c[f]=c[f]+(e[d]/2-r[d]/2);break}}return c}function Xe(n,e){e===void 0&&(e={});var r=e,o=r.placement,s=o===void 0?n.placement:o,a=r.strategy,p=a===void 0?n.strategy:a,i=r.boundary,c=i===void 0?dr:i,f=r.rootBoundary,d=f===void 0?Cn:f,m=r.elementContext,y=m===void 0?ze:m,g=r.altBoundary,T=g===void 0?!1:g,j=r.padding,v=j===void 0?0:j,D=Ln(typeof v!="number"?v:An(v,Ge)),S=y===ze?pr:ze,C=n.rects.popper,u=n.elements[T?S:y],b=Hr(je(u)?u:u.contextElement||he(n.elements.popper),c,d,p),k=Ae(n.elements.reference),E=$n({reference:k,element:C,placement:s}),O=Nt(Object.assign({},C,E)),x=y===ze?O:k,l={top:b.top-x.top+D.top,bottom:x.bottom-b.bottom+D.bottom,left:b.left-x.left+D.left,right:x.right-b.right+D.right},w=n.modifiersData.offset;if(y===ze&&w){var L=w[s];Object.keys(l).forEach(function(N){var $=[q,Y].indexOf(N)>=0?1:-1,I=[F,Y].indexOf(N)>=0?"y":"x";l[N]+=L[I]*$})}return l}function _r(n,e){e===void 0&&(e={});var r=e,o=r.placement,s=r.boundary,a=r.rootBoundary,p=r.padding,i=r.flipVariations,c=r.allowedAutoPlacements,f=c===void 0?En:c,d=Re(o),m=d?i?Zt:Zt.filter(function(T){return Re(T)===d}):Ge,y=m.filter(function(T){return f.indexOf(T)>=0});y.length===0&&(y=m);var g=y.reduce(function(T,j){return T[j]=Xe(n,{placement:j,boundary:s,rootBoundary:a,padding:p})[se(j)],T},{});return Object.keys(g).sort(function(T,j){return g[T]-g[j]})}function Yr(n){if(se(n)===Mt)return[];var e=pt(n);return[en(n),e,en(e)]}function qr(n){var e=n.state,r=n.options,o=n.name;if(!e.modifiersData[o]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,p=r.altAxis,i=p===void 0?!0:p,c=r.fallbackPlacements,f=r.padding,d=r.boundary,m=r.rootBoundary,y=r.altBoundary,g=r.flipVariations,T=g===void 0?!0:g,j=r.allowedAutoPlacements,v=e.options.placement,D=se(v),S=D===v,C=c||(S||!T?[pt(v)]:Yr(v)),u=[v].concat(C).reduce(function(X,z){return X.concat(se(z)===Mt?_r(e,{placement:z,boundary:d,rootBoundary:m,padding:f,flipVariations:T,allowedAutoPlacements:j}):z)},[]),b=e.rects.reference,k=e.rects.popper,E=new Map,O=!0,x=u[0],l=0;l<u.length;l++){var w=u[l],L=se(w),N=Re(w)===Pe,$=[F,Y].indexOf(L)>=0,I=$?"width":"height",R=Xe(e,{placement:w,boundary:d,rootBoundary:m,altBoundary:y,padding:f}),M=$?N?q:U:N?Y:F;b[I]>k[I]&&(M=pt(M));var J=pt(M),le=[];if(a&&le.push(R[L]<=0),i&&le.push(R[M]<=0,R[J]<=0),le.every(function(X){return X})){x=w,O=!1;break}E.set(w,le)}if(O)for(var te=T?3:1,we=function(z){var ue=u.find(function(fe){var V=E.get(fe);if(V)return V.slice(0,z).every(function(Te){return Te})});if(ue)return x=ue,"break"},ce=te;ce>0;ce--){var be=we(ce);if(be==="break")break}e.placement!==x&&(e.modifiersData[o]._skip=!0,e.placement=x,e.reset=!0)}}const Jr={name:"flip",enabled:!0,phase:"main",fn:qr,requiresIfExists:["offset"],data:{_skip:!1}};function nn(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function rn(n){return[F,q,Y,U].some(function(e){return n[e]>=0})}function Xr(n){var e=n.state,r=n.name,o=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,p=Xe(e,{elementContext:"reference"}),i=Xe(e,{altBoundary:!0}),c=nn(p,o),f=nn(i,s,a),d=rn(c),m=rn(f);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const Gr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xr};function Zr(n,e,r){var o=se(n),s=[U,F].indexOf(o)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,p=a[0],i=a[1];return p=p||0,i=(i||0)*s,[U,q].indexOf(o)>=0?{x:i,y:p}:{x:p,y:i}}function Kr(n){var e=n.state,r=n.options,o=n.name,s=r.offset,a=s===void 0?[0,0]:s,p=En.reduce(function(d,m){return d[m]=Zr(m,e.rects,a),d},{}),i=p[e.placement],c=i.x,f=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[o]=p}const Qr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kr};function eo(n){var e=n.state,r=n.name;e.modifiersData[r]=$n({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const to={name:"popperOffsets",enabled:!0,phase:"read",fn:eo,data:{}};function no(n){return n==="x"?"y":"x"}function ro(n){var e=n.state,r=n.options,o=n.name,s=r.mainAxis,a=s===void 0?!0:s,p=r.altAxis,i=p===void 0?!1:p,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,m=r.padding,y=r.tether,g=y===void 0?!0:y,T=r.tetherOffset,j=T===void 0?0:T,v=Xe(e,{boundary:c,rootBoundary:f,padding:m,altBoundary:d}),D=se(e.placement),S=Re(e.placement),C=!S,u=Ft(D),b=no(u),k=e.modifiersData.popperOffsets,E=e.rects.reference,O=e.rects.popper,x=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,l=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(k){if(a){var N,$=u==="y"?F:U,I=u==="y"?Y:q,R=u==="y"?"height":"width",M=k[u],J=M+v[$],le=M-v[I],te=g?-O[R]/2:0,we=S===Pe?E[R]:O[R],ce=S===Pe?-O[R]:-E[R],be=e.elements.arrow,X=g&&be?It(be):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pn(),ue=z[$],fe=z[I],V=Ye(0,E[R],X[R]),Te=C?E[R]/2-te-V-ue-l.mainAxis:we-V-ue-l.mainAxis,wt=C?-E[R]/2+te+V+fe+l.mainAxis:ce+V+fe+l.mainAxis,De=e.elements.arrow&&Ze(e.elements.arrow),G=De?u==="y"?De.clientTop||0:De.clientLeft||0:0,Se=(N=w==null?void 0:w[u])!=null?N:0,me=M+Te-Se-G,ke=M+wt-Se,$e=Ye(g?ft(J,me):J,M,g?ye(le,ke):le);k[u]=$e,L[u]=$e-M}if(i){var ve,Ce=u==="x"?F:U,Me=u==="x"?Y:q,ne=k[b],ge=b==="y"?"height":"width",Be=ne+v[Ce],Ie=ne-v[Me],Fe=[F,U].indexOf(D)!==-1,Ke=(ve=w==null?void 0:w[b])!=null?ve:0,Qe=Fe?Be:ne-E[ge]-O[ge]-Ke+l.altAxis,Ee=Fe?ne+E[ge]+O[ge]-Ke-l.altAxis:Ie,et=g&&Fe?Cr(Qe,ne,Ee):Ye(g?Qe:Be,ne,g?Ee:Ie);k[b]=et,L[b]=et-ne}e.modifiersData[o]=L}}const oo={name:"preventOverflow",enabled:!0,phase:"main",fn:ro,requiresIfExists:["offset"]};function so(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function ao(n){return n===W(n)||!_(n)?Ut(n):so(n)}function io(n){var e=n.getBoundingClientRect(),r=Le(e.width)/n.offsetWidth||1,o=Le(e.height)/n.offsetHeight||1;return r!==1||o!==1}function lo(n,e,r){r===void 0&&(r=!1);var o=_(e),s=_(e)&&io(e),a=he(e),p=Ae(n,s,r),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!r)&&((ie(e)!=="body"||zt(a))&&(i=ao(e)),_(e)?(c=Ae(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=Wt(a))),{x:p.left+i.scrollLeft-c.x,y:p.top+i.scrollTop-c.y,width:p.width,height:p.height}}function co(n){var e=new Map,r=new Set,o=[];n.forEach(function(a){e.set(a.name,a)});function s(a){r.add(a.name);var p=[].concat(a.requires||[],a.requiresIfExists||[]);p.forEach(function(i){if(!r.has(i)){var c=e.get(i);c&&s(c)}}),o.push(a)}return n.forEach(function(a){r.has(a.name)||s(a)}),o}function po(n){var e=co(n);return wr.reduce(function(r,o){return r.concat(e.filter(function(s){return s.phase===o}))},[])}function uo(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function fo(n){var e=n.reduce(function(r,o){var s=r[o.name];return r[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,r},{});return Object.keys(e).map(function(r){return e[r]})}var on={placement:"bottom",modifiers:[],strategy:"absolute"};function sn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function ho(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,o=r===void 0?[]:r,s=e.defaultOptions,a=s===void 0?on:s;return function(i,c,f){f===void 0&&(f=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},on,a),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},m=[],y=!1,g={state:d,setOptions:function(D){var S=typeof D=="function"?D(d.options):D;j(),d.options=Object.assign({},a,d.options,S),d.scrollParents={reference:je(i)?qe(i):i.contextElement?qe(i.contextElement):[],popper:qe(c)};var C=po(fo([].concat(o,d.options.modifiers)));return d.orderedModifiers=C.filter(function(u){return u.enabled}),T(),g.update()},forceUpdate:function(){if(!y){var D=d.elements,S=D.reference,C=D.popper;if(sn(S,C)){d.rects={reference:lo(S,Ze(C),d.options.strategy==="fixed"),popper:It(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(l){return d.modifiersData[l.name]=Object.assign({},l.data)});for(var u=0;u<d.orderedModifiers.length;u++){if(d.reset===!0){d.reset=!1,u=-1;continue}var b=d.orderedModifiers[u],k=b.fn,E=b.options,O=E===void 0?{}:E,x=b.name;typeof k=="function"&&(d=k({state:d,options:O,name:x,instance:g})||d)}}}},update:uo(function(){return new Promise(function(v){g.forceUpdate(),v(d)})}),destroy:function(){j(),y=!0}};if(!sn(i,c))return g;g.setOptions(f).then(function(v){!y&&f.onFirstUpdate&&f.onFirstUpdate(v)});function T(){d.orderedModifiers.forEach(function(v){var D=v.name,S=v.options,C=S===void 0?{}:S,u=v.effect;if(typeof u=="function"){var b=u({state:d,name:D,instance:g,options:C}),k=function(){};m.push(b||k)}})}function j(){m.forEach(function(v){return v()}),m=[]}return g}}var mo=[Br,to,$r,Dr,Qr,Jr,oo,Pr,Gr],vo=ho({defaultModifiers:mo});function go(n){return un("MuiPopper",n)}fn("MuiPopper",["root"]);function xo(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function Ot(n){return typeof n=="function"?n():n}function yo(n){return n.nodeType!==void 0}const jo=n=>{const{classes:e}=n;return hn({root:["root"]},go,e)},wo={},bo=h.forwardRef(function(e,r){const{anchorEl:o,children:s,direction:a,disablePortal:p,modifiers:i,open:c,placement:f,popperOptions:d,popperRef:m,slotProps:y={},slots:g={},TransitionProps:T,ownerState:j,...v}=e,D=h.useRef(null),S=Ct(D,r),C=h.useRef(null),u=Ct(C,m),b=h.useRef(u);_t(()=>{b.current=u},[u]),h.useImperativeHandle(m,()=>C.current,[]);const k=xo(f,a),[E,O]=h.useState(k),[x,l]=h.useState(Ot(o));h.useEffect(()=>{C.current&&C.current.forceUpdate()}),h.useEffect(()=>{o&&l(Ot(o))},[o]),_t(()=>{if(!x||!c)return;const I=J=>{O(J.placement)};let R=[{name:"preventOverflow",options:{altBoundary:p}},{name:"flip",options:{altBoundary:p}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{I(J)}}];i!=null&&(R=R.concat(i)),d&&d.modifiers!=null&&(R=R.concat(d.modifiers));const M=vo(x,D.current,{placement:k,...d,modifiers:R});return b.current(M),()=>{M.destroy(),b.current(null)}},[x,p,i,c,d,k]);const w={placement:E};T!==null&&(w.TransitionProps=T);const L=jo(e),N=g.root??"div",$=Zn({elementType:N,externalSlotProps:y.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:S},ownerState:e,className:L.root});return t.jsx(N,{...$,children:typeof s=="function"?s(w):s})}),To=h.forwardRef(function(e,r){const{anchorEl:o,children:s,container:a,direction:p="ltr",disablePortal:i=!1,keepMounted:c=!1,modifiers:f,open:d,placement:m="bottom",popperOptions:y=wo,popperRef:g,style:T,transition:j=!1,slotProps:v={},slots:D={},...S}=e,[C,u]=h.useState(!0),b=()=>{u(!1)},k=()=>{u(!0)};if(!c&&!d&&(!j||C))return null;let E;if(a)E=a;else if(o){const l=Ot(o);E=l&&yo(l)?Ht(l).body:Ht(null).body}const O=!d&&c&&(!j||C)?"none":void 0,x=j?{in:d,onEnter:b,onExited:k}:void 0;return t.jsx(Gn,{disablePortal:i,container:E,children:t.jsx(bo,{anchorEl:o,direction:p,disablePortal:i,modifiers:f,ref:r,open:j?!C:d,placement:m,popperOptions:y,popperRef:g,slotProps:v,slots:D,...S,style:{position:"fixed",top:0,left:0,display:O,...T},TransitionProps:x,children:s})})}),Do=ht(To,{name:"MuiPopper",slot:"Root"})({}),Mn=h.forwardRef(function(e,r){const o=mn(),s=vn({props:e,name:"MuiPopper"}),{anchorEl:a,component:p,components:i,componentsProps:c,container:f,disablePortal:d,keepMounted:m,modifiers:y,open:g,placement:T,popperOptions:j,popperRef:v,transition:D,slots:S,slotProps:C,...u}=s,b=(S==null?void 0:S.root)??(i==null?void 0:i.Root),k={anchorEl:a,container:f,disablePortal:d,keepMounted:m,modifiers:y,open:g,placement:T,popperOptions:j,popperRef:v,transition:D,...u};return t.jsx(Do,{as:p,direction:o?"rtl":"ltr",slots:{root:b},slotProps:C??c,...k,ref:r})});function So(n){return un("MuiTooltip",n)}const B=fn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ko(n){return Math.round(n*1e5)/1e5}const Co=n=>{const{classes:e,disableInteractive:r,arrow:o,touch:s,placement:a}=n,p={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",s&&"touch",`tooltipPlacement${xn(a.split("-")[0])}`],arrow:["arrow"]};return hn(p,So,e)},Eo=ht(Mn,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:r}=n;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(At(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${B.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${B.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${B.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${B.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${B.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${B.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${B.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${B.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),No=ht("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:r}=n;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${xn(r.placement.split("-")[0])}`]]}})(At(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:yn(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${B.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${B.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${B.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${B.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${ko(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${B.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${B.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${B.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${B.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${B.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${B.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${B.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${B.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${B.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${B.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Oo=ht("span",{name:"MuiTooltip",slot:"Arrow"})(At(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:yn(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let at=!1;const an=new Qn;let Ve={x:0,y:0};function it(n,e){return(r,...o)=>{e&&e(r,...o),n(r,...o)}}const Po=h.forwardRef(function(e,r){const o=vn({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:a,classes:p,components:i={},componentsProps:c={},describeChild:f=!1,disableFocusListener:d=!1,disableHoverListener:m=!1,disableInteractive:y=!1,disableTouchListener:g=!1,enterDelay:T=100,enterNextDelay:j=0,enterTouchDelay:v=700,followCursor:D=!1,id:S,leaveDelay:C=0,leaveTouchDelay:u=1500,onClose:b,onOpen:k,open:E,placement:O="bottom",PopperComponent:x,PopperProps:l={},slotProps:w={},slots:L={},title:N,TransitionComponent:$,TransitionProps:I,...R}=o,M=h.isValidElement(a)?a:t.jsx("span",{children:a}),J=gn(),le=mn(),[te,we]=h.useState(),[ce,be]=h.useState(null),X=h.useRef(!1),z=y||D,ue=nt(),fe=nt(),V=nt(),Te=nt(),[wt,De]=sr({controlled:E,default:!1,name:"Tooltip",state:"open"});let G=wt;const Se=Kn(S),me=h.useRef(),ke=Yt(()=>{me.current!==void 0&&(document.body.style.WebkitUserSelect=me.current,me.current=void 0),Te.clear()});h.useEffect(()=>ke,[ke]);const $e=P=>{an.clear(),at=!0,De(!0),k&&!G&&k(P)},ve=Yt(P=>{an.start(800+C,()=>{at=!1}),De(!1),b&&G&&b(P),ue.start(J.transitions.duration.shortest,()=>{X.current=!1})}),Ce=P=>{X.current&&P.type!=="touchstart"||(te&&te.removeAttribute("title"),fe.clear(),V.clear(),T||at&&j?fe.start(at?j:T,()=>{$e(P)}):$e(P))},Me=P=>{fe.clear(),V.start(C,()=>{ve(P)})},[,ne]=h.useState(!1),ge=P=>{Jt(P.target)||(ne(!1),Me(P))},Be=P=>{te||we(P.currentTarget),Jt(P.target)&&(ne(!0),Ce(P))},Ie=P=>{X.current=!0;const Q=M.props;Q.onTouchStart&&Q.onTouchStart(P)},Fe=P=>{Ie(P),V.clear(),ue.clear(),ke(),me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Te.start(v,()=>{document.body.style.WebkitUserSelect=me.current,Ce(P)})},Ke=P=>{M.props.onTouchEnd&&M.props.onTouchEnd(P),ke(),V.start(u,()=>{ve(P)})};h.useEffect(()=>{if(!G)return;function P(Q){Q.key==="Escape"&&ve(Q)}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[ve,G]);const Qe=Ct(er(M),we,r);!N&&N!==0&&(G=!1);const Ee=h.useRef(),et=P=>{const Q=M.props;Q.onMouseMove&&Q.onMouseMove(P),Ve={x:P.clientX,y:P.clientY},Ee.current&&Ee.current.update()},Ue={},bt=typeof N=="string";f?(Ue.title=!G&&bt&&!m?N:null,Ue["aria-describedby"]=G?Se:null):(Ue["aria-label"]=bt?N:null,Ue["aria-labelledby"]=G&&!bt?Se:null);const Z={...Ue,...R,...M.props,className:qt(R.className,M.props.className),onTouchStart:Ie,ref:Qe,...D?{onMouseMove:et}:{}},We={};g||(Z.onTouchStart=Fe,Z.onTouchEnd=Ke),m||(Z.onMouseOver=it(Ce,Z.onMouseOver),Z.onMouseLeave=it(Me,Z.onMouseLeave),z||(We.onMouseOver=Ce,We.onMouseLeave=Me)),d||(Z.onFocus=it(Be,Z.onFocus),Z.onBlur=it(ge,Z.onBlur),z||(We.onFocus=Be,We.onBlur=ge));const xe={...o,isRtl:le,arrow:s,disableInteractive:z,placement:O,PopperComponentProp:x,touch:X.current},K=typeof w.popper=="function"?w.popper(xe):w.popper,Un=h.useMemo(()=>{var Q,Vt;let P=[{name:"arrow",enabled:!!ce,options:{element:ce,padding:4}}];return(Q=l.popperOptions)!=null&&Q.modifiers&&(P=P.concat(l.popperOptions.modifiers)),(Vt=K==null?void 0:K.popperOptions)!=null&&Vt.modifiers&&(P=P.concat(K.popperOptions.modifiers)),{...l.popperOptions,...K==null?void 0:K.popperOptions,modifiers:P}},[ce,l.popperOptions,K==null?void 0:K.popperOptions]),Tt=Co(xe),Wn=typeof w.transition=="function"?w.transition(xe):w.transition,tt={slots:{popper:i.Popper,transition:i.Transition??$,tooltip:i.Tooltip,arrow:i.Arrow,...L},slotProps:{arrow:w.arrow??c.arrow,popper:{...l,...K??c.popper},tooltip:w.tooltip??c.tooltip,transition:{...I,...Wn??c.transition}}},[zn,Vn]=rt("popper",{elementType:Eo,externalForwardedProps:tt,ownerState:xe,className:qt(Tt.popper,l==null?void 0:l.className)}),[Hn,_n]=rt("transition",{elementType:tr,externalForwardedProps:tt,ownerState:xe}),[Yn,qn]=rt("tooltip",{elementType:No,className:Tt.tooltip,externalForwardedProps:tt,ownerState:xe}),[Jn,Xn]=rt("arrow",{elementType:Oo,className:Tt.arrow,externalForwardedProps:tt,ownerState:xe,ref:be});return t.jsxs(h.Fragment,{children:[h.cloneElement(M,Z),t.jsx(zn,{as:x??Mn,placement:O,anchorEl:D?{getBoundingClientRect:()=>({top:Ve.y,left:Ve.x,right:Ve.x,bottom:Ve.y,width:0,height:0})}:te,popperRef:Ee,open:te?G:!1,id:Se,transition:!0,...We,...Vn,popperOptions:Un,children:({TransitionProps:P})=>t.jsx(Hn,{timeout:J.transitions.duration.shorter,...P,..._n,children:t.jsxs(Yn,{...qn,children:[N,s?t.jsx(Jn,{...Xn}):null]})})})]})}),Bn=jn(t.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),Pt=jn(t.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}));function Lo(n){return e=>{const r=Math.trunc,o=r(e);return o===0?0:o}}function Ao(n,e){return+ut(n)-+ut(e)}function Ro(n,e,r){const o=Ao(n,e)/$t;return Lo()(o)}function ln(n,e){const r=()=>lr(e==null?void 0:e.in,NaN),s=Io(n);let a;if(s.date){const f=Fo(s.date,2);a=Uo(f.restDateString,f.year)}if(!a||isNaN(+a))return r();const p=+a;let i=0,c;if(s.time&&(i=Wo(s.time),isNaN(i)))return r();if(s.timezone){if(c=zo(s.timezone),isNaN(c))return r()}else{const f=new Date(p+i),d=ut(0,e==null?void 0:e.in);return d.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),d.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),d}return ut(p+i+c,e==null?void 0:e.in)}const lt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mo=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bo=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Io(n){const e={},r=n.split(lt.dateTimeDelimiter);let o;if(r.length>2)return e;if(/:/.test(r[0])?o=r[0]:(e.date=r[0],o=r[1],lt.timeZoneDelimiter.test(e.date)&&(e.date=n.split(lt.timeZoneDelimiter)[0],o=n.substr(e.date.length,n.length))),o){const s=lt.timezone.exec(o);s?(e.time=o.replace(s[1],""),e.timezone=s[1]):e.time=o}return e}function Fo(n,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=n.match(r);if(!o)return{year:NaN,restDateString:""};const s=o[1]?parseInt(o[1]):null,a=o[2]?parseInt(o[2]):null;return{year:a===null?s:a*100,restDateString:n.slice((o[1]||o[2]).length)}}function Uo(n,e){if(e===null)return new Date(NaN);const r=n.match($o);if(!r)return new Date(NaN);const o=!!r[4],s=He(r[1]),a=He(r[2])-1,p=He(r[3]),i=He(r[4]),c=He(r[5])-1;if(o)return qo(e,i,c)?Vo(e,i,c):new Date(NaN);{const f=new Date(0);return!_o(e,a,p)||!Yo(e,s)?new Date(NaN):(f.setUTCFullYear(e,a,Math.max(s,p)),f)}}function He(n){return n?parseInt(n):1}function Wo(n){const e=n.match(Mo);if(!e)return NaN;const r=Dt(e[1]),o=Dt(e[2]),s=Dt(e[3]);return Jo(r,o,s)?r*bn+o*$t+s*1e3:NaN}function Dt(n){return n&&parseFloat(n.replace(",","."))||0}function zo(n){if(n==="Z")return 0;const e=n.match(Bo);if(!e)return 0;const r=e[1]==="+"?-1:1,o=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Xo(o,s)?r*(o*bn+s*$t):NaN}function Vo(n,e,r){const o=new Date(0);o.setUTCFullYear(n,0,4);const s=o.getUTCDay()||7,a=(e-1)*7+r+1-s;return o.setUTCDate(o.getUTCDate()+a),o}const Ho=[31,null,31,30,31,30,31,31,30,31,30,31];function In(n){return n%400===0||n%4===0&&n%100!==0}function _o(n,e,r){return e>=0&&e<=11&&r>=1&&r<=(Ho[e]||(In(n)?29:28))}function Yo(n,e){return e>=1&&e<=(In(n)?366:365)}function qo(n,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Jo(n,e,r){return n===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&n>=0&&n<25}function Xo(n,e){return e>=0&&e<=59}const Lt=({address:n,latitude:e,longitude:r})=>{if(!e||!r)return t.jsx(ae,{variant:"body2",children:"N/A"});const o=n||`Lat: ${e}, Lng: ${r}`,s=`https://maps.google.com/?q=${e},${r}`;return t.jsxs(mt,{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",children:[t.jsx(ae,{variant:"body2",sx:{wordBreak:"break-word"},children:o}),t.jsx(Po,{title:"View on Map",children:t.jsx(Ne,{size:"small",href:s,target:"_blank",rel:"noopener noreferrer",sx:{padding:0},children:t.jsx(Pt,{color:"primary"})})})]})},oe=({label:n,value:e})=>t.jsxs(mt,{children:[t.jsx(ae,{variant:"caption",color:"text.secondary",sx:{lineHeight:1},children:n}),t.jsx(ae,{variant:"body2",fontWeight:500,sx:{lineHeight:1.2},children:e||"--"})]}),ct=n=>n?new Date(n).toLocaleDateString("en-GB"):"--",Fn=({open:n,onClose:e,task:r})=>{var a,p;const o=gn(),s=ar(o.breakpoints.down("sm"));return t.jsxs(gt,{open:n,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{mx:"auto",my:2,borderRadius:2,p:1}},children:[t.jsxs(xt,{sx:{fontWeight:600,display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[r?`Task-${r.taskId} Details`:"Task Details",t.jsx(Ne,{onClick:e,size:"small",children:t.jsx(Rt,{})})]}),t.jsx(yt,{dividers:!0,sx:{p:1.5},children:r?t.jsxs(ot,{spacing:1.5,children:[t.jsx(oe,{label:"Title",value:r.title}),t.jsx(oe,{label:"Description",value:r.description}),t.jsx(Xt,{}),t.jsxs(ot,{direction:s?"column":"row",spacing:2,children:[t.jsx(oe,{label:"Status",value:r.status}),t.jsx(oe,{label:"Priority",value:r.priority})]}),t.jsxs(ot,{direction:s?"column":"row",spacing:2,children:[t.jsx(oe,{label:"Assign Date",value:ct(r.assignDate)}),t.jsx(oe,{label:"Due Date",value:ct(r.dueDate)})]}),t.jsxs(ot,{direction:s?"column":"row",spacing:2,children:[t.jsx(oe,{label:"Start Date",value:ct(r.startDate)}),t.jsx(oe,{label:"Completion Date",value:ct(r.completionDate)})]}),t.jsx(Xt,{}),t.jsx(oe,{label:"Address",value:r.address}),t.jsx(oe,{label:"Notes",value:r.notes}),(a=r.completionLocation)!=null&&a.latitude&&((p=r.completionLocation)!=null&&p.longitude)?t.jsxs(mt,{children:[t.jsx(ae,{variant:"caption",color:"text.secondary",sx:{mb:.5},children:"Completion Location:"}),t.jsx(Lt,{address:r.completionAdreess,latitude:r.completionLocation.latitude,longitude:r.completionLocation.longitude})]}):null]}):t.jsx(ae,{children:"No task data available."})})]})},Go="https://silitzer-pharma.onrender.com",cn=({address:n,lat:e,lon:r})=>!e||!r?t.jsx("span",{children:"N/A"}):t.jsxs("span",{children:[n||"Unknown"," ",t.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${e},${r}`,target:"_blank",rel:"noopener noreferrer",title:"Open in Google Maps",style:{textDecoration:"none",marginLeft:6},children:t.jsx(Bn,{})})]}),Zo=({employeeId:n})=>{const[e,r]=h.useState([]),[o,s]=h.useState([]),[a,p]=h.useState([]),[i,c]=h.useState(null),[f,d]=h.useState(!1),[m,y]=h.useState("today");h.useEffect(()=>{if(!n)return;(async()=>{d(!0);try{const D=await fetch(`${Go}/admin/employee/todaysactivity`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employeeId:n})});if(!D.ok)throw new Error("Failed to fetch today's activity");const S=await D.json();r(S.tasks||[]),s(S.pendingTasks||[]),p(S.sessions||[])}catch(D){console.error("Error fetching today's activity:",D)}finally{d(!1)}})()},[n]);const g=v=>c(v),T=()=>c(null);if(f)return t.jsx(vt,{message:"Loading EmployeeTodaysActivity..."});const j=m==="today"?e:o;return t.jsxs("div",{className:"EmployeeTodaysActivity",children:[t.jsx("div",{className:"EmployeeTodaysActivity-title",children:"Employee Today's Activity"}),t.jsxs("div",{className:"EmployeeTodaysActivity-row",children:[t.jsxs("div",{className:"row-col-left",children:[t.jsx("div",{className:"row-title",children:"Tasks"}),t.jsxs("div",{className:"task-tabs",children:[t.jsx("button",{className:`task-tab ${m==="today"?"active":""}`,onClick:()=>y("today"),children:"Today's Tasks"}),t.jsx("button",{className:`task-tab ${m==="pending"?"active":""}`,onClick:()=>y("pending"),children:"Pending Tasks"})]}),t.jsxs("ul",{className:"emp-task-list",children:[j.length===0&&t.jsx("li",{children:m==="today"?"No tasks for today":"No pending tasks"}),j.map(v=>t.jsxs("li",{onClick:()=>g(v),style:{cursor:"pointer"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Title:"})," ",v.title]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",v.status]})]},v._id))]})]}),t.jsxs("div",{className:"row-col-right",children:[t.jsx("div",{className:"row-title",children:"Today's Login Sessions"}),t.jsxs("ul",{className:"session-list",children:[a.length===0&&t.jsx("li",{children:"No login sessions for today"}),a.map(v=>{var D,S;return t.jsxs("li",{children:[t.jsxs("div",{children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Login Time:"}),t.jsx("br",{}),v.loginTime?t.jsxs(t.Fragment,{children:[H(new Date(v.loginTime),"d/M/yyyy"),t.jsx("br",{}),H(new Date(v.loginTime),"'time' h.mm a")]}):"N/A"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Login Location:"})," ",t.jsx(cn,{address:v.loginAddress,lat:(D=v.loginLocation)==null?void 0:D.latitude,lon:(S=v.loginLocation)==null?void 0:S.longitude})]})]}),t.jsxs("div",{children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Logout Time:"}),t.jsx("br",{}),v.logoutTime?t.jsxs(t.Fragment,{children:[H(new Date(v.logoutTime),"d/M/yyyy"),t.jsx("br",{}),H(new Date(v.logoutTime),"h.mm a")]}):"N/A"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Logout Location:"})," ",v.logoutLocation?t.jsx(cn,{address:v.logoutAddress,lat:v.logoutLocation.latitude,lon:v.logoutLocation.longitude}):"N/A"]})]})]},v._id)})]})]})]}),t.jsx(Fn,{open:!!i,onClose:T,task:i})]})},dn="https://silitzer-pharma.onrender.com",_e=n=>{if(!n)return"";const e=new Date(n);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`},St=n=>{if(!n)return"";const e=new Date(n);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Ko=({task:n,onClose:e,refreshTasksList:r})=>{var S,C;const[o,s]=h.useState(!1),[a,p]=h.useState(!1),[i,c]=h.useState({...n}),[f,d]=h.useState(""),[m,y]=h.useState(""),[g,T]=h.useState(!1),j=(u,b)=>{c(k=>({...k,[u]:b}))},v=async()=>{try{const u=await fetch(`${dn}/admin/employee/task/update`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}),b=await u.json();u.ok?(alert("Task updated successfully!"),d(b.note||""),s(!1),r()):alert("Update failed: "+b.message)}catch(u){alert("Error updating task: "+u.message)}},D=async()=>{try{const u=await fetch(`${dn}/admin/employee/task/remove`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({task_id:n._id})});if(u.ok)alert("Task deleted successfully!"),p(!1),r(),e();else{const b=await u.json();alert("Delete failed: "+b.message)}}catch(u){alert("Error deleting task: "+u.message)}};return h.useEffect(()=>{(async()=>{var b,k;if((b=i.completionLocation)!=null&&b.latitude&&((k=i.completionLocation)!=null&&k.longitude)){T(!0);try{const O=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${i.completionLocation.latitude}&lon=${i.completionLocation.longitude}`)).json();O!=null&&O.display_name?y(O.display_name):y("Address not found")}catch(E){console.error("Error fetching address:",E),y("Failed to fetch address")}finally{T(!1)}}})()},[i.completionLocation]),t.jsxs("div",{className:"ViewTask",children:[t.jsxs("div",{className:"ViewTask-row",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"TaskId:"})," ",n.taskId]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Title:"})," ",o?t.jsx(de,{size:"small",value:i.title,onChange:u=>j("title",u.target.value)}):n.title]})]}),t.jsxs("div",{className:"ViewTask-row",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Priority:"})," ",o?t.jsx(de,{select:!0,size:"small",value:i.priority,onChange:u=>j("priority",u.target.value),children:["Low","Medium","High"].map(u=>t.jsx(Gt,{value:u,children:u},u))}):n.priority]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Assign Date:"})," ",_e(n.assignDate)]})]}),t.jsxs("div",{className:"ViewTask-row",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Start Date:"})," ",o?t.jsx(de,{type:"date",size:"small",value:St(i.startDate),onChange:u=>j("startDate",u.target.value)}):_e(n.startDate)]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Due Date:"})," ",o?t.jsx(de,{type:"date",size:"small",value:St(i.dueDate),onChange:u=>j("dueDate",u.target.value)}):_e(n.dueDate)]})]}),t.jsx("div",{className:"ViewTask-row",children:t.jsxs("span",{children:[t.jsx("strong",{children:"Completion Date:"})," ",o?t.jsx(de,{type:"date",size:"small",value:St(i.completionDate),onChange:u=>j("completionDate",u.target.value)}):_e(n.completionDate)]})}),t.jsxs("div",{className:"ViewTask-row",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Status:"})," ",o?t.jsx(de,{select:!0,size:"small",value:i.status,onChange:u=>j("status",u.target.value),children:["Assigned","Scheduled","Ongoing","Complete","Pending","Overdue","Cancelled"].map(u=>t.jsx(Gt,{value:u,children:u},u))}):n.status]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Address:"})," ",o?t.jsx(de,{size:"small",value:i.address,onChange:u=>j("address",u.target.value)}):n.address||"-"]})]}),t.jsx("div",{className:"ViewTask-row",children:t.jsxs("span",{children:[t.jsx("strong",{children:"Description:"})," ",o?t.jsx(de,{fullWidth:!0,multiline:!0,size:"small",value:i.description,onChange:u=>j("description",u.target.value)}):n.description||"-"]})}),t.jsxs("div",{className:"ViewTask-row-Location",children:[t.jsx("strong",{children:"Completion Location:"})," ",(S=i.completionLocation)!=null&&S.latitude&&((C=i.completionLocation)!=null&&C.longitude)?t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Address:"})," ",g?"Loading address...":m]}),t.jsx(Ne,{size:"small",color:"primary",onClick:()=>{const{latitude:u,longitude:b}=i.completionLocation;window.open(`https://www.google.com/maps?q=${u},${b}`,"_blank")},title:"View on Google Maps",children:t.jsx(Bn,{})})]}):t.jsx("span",{children:"Not available"})]}),t.jsx("div",{className:"ViewTask-row",children:t.jsxs("span",{children:[t.jsx("strong",{children:"Notes:"})," ",o?t.jsx(de,{fullWidth:!0,multiline:!0,size:"small",value:i.notes,onChange:u=>j("notes",u.target.value)}):n.notes||"-"]})}),t.jsxs("div",{className:"ViewTask-status",children:[t.jsx("div",{children:t.jsx("strong",{children:"Status History:"})}),Array.isArray(n.statusHistory)&&n.statusHistory.length>0?t.jsx("ul",{style:{margin:0,paddingLeft:"1rem"},children:n.statusHistory.map((u,b)=>t.jsxs("li",{children:[u.status," on ",_e(u.changedAt)]},b))}):t.jsx("span",{children:"-"})]}),t.jsx("div",{className:"ViewTask-actions",children:o?t.jsxs(t.Fragment,{children:[t.jsx(ee,{variant:"contained",color:"primary",onClick:v,children:"Save"}),t.jsx(ee,{variant:"outlined",onClick:()=>s(!1),children:"Cancel"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ee,{variant:"outlined",color:"primary",onClick:()=>s(!0),children:"Edit"}),t.jsx(ee,{variant:"outlined",color:"error",onClick:()=>p(!0),children:"Remove"})]})}),f&&t.jsxs(ae,{variant:"body2",color:"warning.main",style:{marginTop:"1rem"},children:["⚠️ ",f]}),t.jsxs(gt,{open:a,onClose:()=>p(!1),children:[t.jsx(xt,{children:"Confirm Deletion"}),t.jsx(yt,{children:t.jsx(ae,{children:"Are you sure you want to delete this task?"})}),t.jsxs(ir,{children:[t.jsx(ee,{onClick:()=>p(!1),children:"Cancel"}),t.jsx(ee,{onClick:D,color:"error",children:"Delete"})]})]})]})},Qo="https://silitzer-pharma.onrender.com",kt=n=>{if(!n)return"-";const e=new Date(n);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`},es=({employeeId:n})=>{const[e,r]=h.useState([]),[o,s]=h.useState(null),[a,p]=h.useState(!1),[i,c]=h.useState(""),[f,d]=h.useState(""),[m,y]=h.useState(""),[g,T]=h.useState(1),[j,v]=h.useState(1),D=5,[S,C]=h.useState(!1),u=()=>p(x=>!x),b=async()=>{try{C(!0);const x=new URLSearchParams;x.append("employee_id",n),x.append("page",g),x.append("limit",D),i&&x.append("date",i),f&&x.append("status",f),m&&x.append("search",m);const w=await(await fetch(`${Qo}/admin/employee/tasks?${x.toString()}`,{credentials:"include"})).json();r(w.tasks||[]),v(w.totalPages||1)}catch(x){console.error("Error fetching tasks:",x)}finally{C(!1)}};h.useEffect(()=>{b()},[n,a,i,f,m,g]);const k=()=>{const x=document.querySelector(".TaskTable-search-date").value,l=document.querySelector(".TaskTable-search-select").value,w=document.querySelector(".TaskTable-search-text").value;c(x),d(l),y(w),T(1)},E=()=>{g>1&&T(x=>x-1)},O=()=>{g<j&&T(x=>x+1)};return S?t.jsx(vt,{message:"Loading Tasks..."}):t.jsxs("div",{style:{padding:"1rem"},children:[t.jsx("div",{className:"manage-tasks-title",children:"Manage tasks"}),t.jsxs("div",{className:"TaskTable-search",children:[t.jsx("input",{type:"date",className:"TaskTable-search-date"}),t.jsxs("select",{name:"status",className:"TaskTable-search-select",children:[t.jsx("option",{value:"",children:"all"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"Scheduled",children:"Scheduled"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Ongoing",children:"Ongoing"}),t.jsx("option",{value:"Complete",children:"Complete"}),t.jsx("option",{value:"Overdue",children:"Overdue"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsx("input",{type:"text",className:"TaskTable-search-text",placeholder:"Search Task id"}),t.jsx("button",{className:"TaskTable-search-btn",onClick:k,children:"Search"})]}),t.jsx(Tn,{component:wn,children:t.jsxs(Dn,{children:[t.jsx(Sn,{children:t.jsxs(Oe,{children:[t.jsx(A,{children:"Task ID"}),t.jsx(A,{children:"Title"}),t.jsx(A,{children:"Status"}),t.jsx(A,{children:"Start Date"}),t.jsx(A,{children:"Due Date"}),t.jsx(A,{children:"Task Completed On"})]})}),t.jsxs(kn,{children:[e.map(x=>t.jsxs(Oe,{onClick:()=>s(x),style:{cursor:"pointer"},hover:!0,selected:(o==null?void 0:o.taskId)===x.taskId,children:[t.jsx(A,{children:x.taskId}),t.jsx(A,{children:x.title}),t.jsx(A,{children:x.status}),t.jsx(A,{children:kt(x.startDate)}),t.jsx(A,{children:kt(x.dueDate)}),t.jsx(A,{children:kt(x.completionDate)})]},x.taskId)),e.length===0&&t.jsx(Oe,{children:t.jsx(A,{colSpan:6,align:"center",children:"No tasks available"})})]})]})}),t.jsxs("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"center",gap:"1rem"},children:[t.jsx(ee,{variant:"contained",onClick:E,disabled:g===1,children:"Previous"}),t.jsxs("span",{children:["Page ",g," of ",j]}),t.jsx(ee,{variant:"contained",onClick:O,disabled:g===j,children:"Next"})]}),t.jsxs(gt,{open:!!o,onClose:()=>s(null),maxWidth:"md",fullWidth:!0,scroll:"paper",children:[t.jsxs(xt,{children:["Task Details",t.jsx(ee,{onClick:()=>s(null),color:"secondary",style:{float:"right",minWidth:"auto"},children:"Close"})]}),t.jsx(yt,{dividers:!0,children:o&&t.jsx(Ko,{task:o,onClose:()=>s(null),refreshTasksList:u})})]})]})},ts="https://silitzer-pharma.onrender.com",ns=({employeeId:n,day:e})=>{const[r,o]=h.useState([]),[s,a]=h.useState([]),[p,i]=h.useState(null),[c,f]=h.useState(!1);h.useEffect(()=>{if(!n||!e)return;(async()=>{f(!0);try{const g=await fetch(`${ts}/admin/employee/daysactivity`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employeeId:n,day:e})});if(!g.ok)throw new Error("Failed to fetch day's activity");const T=await g.json();o(T.tasks||[]),a(T.sessions||[])}catch(g){console.error("Error fetching day's activity:",g)}finally{f(!1)}})()},[n,e]);const d=y=>i(y),m=()=>i(null);return c?t.jsx(vt,{message:"Loading Employee Day Activity..."}):t.jsxs("div",{className:"EmployeeTodaysActivity",children:[t.jsxs("div",{className:"EmployeeTodaysActivity-title",children:["Employee Activity for ",H(new Date(e),"d/M/yyyy")]}),t.jsxs("div",{className:"EmployeeTodaysActivity-row",children:[t.jsxs("div",{className:"row-col-left",children:[t.jsx("div",{className:"row-title",children:"Tasks"}),t.jsxs("ul",{className:"emp-task-list",children:[r.length===0&&t.jsx("li",{children:"No tasks for this day"}),r.map(y=>t.jsxs("li",{onClick:()=>d(y),style:{cursor:"pointer"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Title:"})," ",y.title]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Status:"})," ",y.status]})]},y._id))]})]}),t.jsxs("div",{className:"row-col-right",children:[t.jsx("div",{className:"row-title",children:"Login Sessions"}),t.jsxs("ul",{className:"session-list",children:[s.length===0&&t.jsx("li",{children:"No login sessions for this day"}),s.map(y=>{var g,T;return t.jsxs("li",{children:[t.jsxs("div",{children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Login Time:"}),t.jsx("br",{}),y.loginTime?t.jsxs(t.Fragment,{children:[H(new Date(y.loginTime),"d/M/yyyy"),t.jsx("br",{}),H(new Date(y.loginTime),"'time' h.mm a")]}):"N/A"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Login Location:"}),t.jsx("br",{}),t.jsx(Lt,{address:y.loginAddress,latitude:(g=y.loginLocation)==null?void 0:g.latitude,longitude:(T=y.loginLocation)==null?void 0:T.longitude})]})]}),t.jsxs("div",{children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Logout Time:"}),t.jsx("br",{}),y.logoutTime?t.jsxs(t.Fragment,{children:[H(new Date(y.logoutTime),"d/M/yyyy"),t.jsx("br",{}),H(new Date(y.logoutTime),"h.mm a")]}):"N/A"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Logout Location:"}),t.jsx("br",{}),y.logoutLocation?t.jsx(Lt,{address:y.logoutAddress,latitude:y.logoutLocation.latitude,longitude:y.logoutLocation.longitude}):"N/A"]})]})]},y._id)})]})]})]}),t.jsx(Fn,{open:!!p,onClose:m,task:p})]})},pn="https://silitzer-pharma.onrender.com",rs=({employeeId:n})=>{const[e,r]=h.useState([]),[o,s]=h.useState(1),[a]=h.useState(5),[p,i]=h.useState(0),[c,f]=h.useState(""),[d,m]=h.useState(""),[y,g]=h.useState(!1),[T,j]=h.useState(null),[v,D]=h.useState(!1),S=async()=>{try{D(!0);let l=`${pn}/admin/employee/employee-work-sessions?employeeId=${n}&page=${o}&limit=${a}`;c&&(l+=`&startDate=${c}`),d&&(l+=`&endDate=${d}`);const L=await(await fetch(l,{credentials:"include"})).json();r(L.workSessions||[]),i(L.totalDays||0)}catch(l){console.error("Error fetching sessions:",l)}finally{D(!1)}};h.useEffect(()=>{n&&S()},[n,o]);const C=()=>{s(1),S()},u=async()=>{try{let l=`${pn}/admin/employee/worksessions/download?employeeId=${n}`;c&&(l+=`&startDate=${c}`),d&&(l+=`&endDate=${d}`);const w=await fetch(l,{method:"GET",credentials:"include"});if(!w.ok)throw new Error("Failed to download file");const L=await w.blob(),N=window.URL.createObjectURL(L),$=document.createElement("a");$.href=N,$.download=`employee_work_sessions_${n}.csv`,document.body.appendChild($),$.click(),$.remove(),window.URL.revokeObjectURL(N)}catch(l){console.error("Download error:",l),alert("Failed to download session data.")}},b=l=>l?H(new Date(l),"d/M/yyyy h:mm a"):"N/A",k=(l,w)=>{if(!l||!w)return"N/A";const L=Ro(new Date(w),new Date(l)),N=Math.floor(L/60),$=L%60;return`${N}h ${$}min`},E=Math.ceil(p/a),O=l=>{j(l),g(!0)},x=()=>{g(!1),j(null)};return v?t.jsx(vt,{message:"Loading Employee Work Sessions..."}):t.jsxs("div",{className:"employee-work-sessions",children:[t.jsxs(ae,{variant:"h5",className:"title",children:["Employee Work Sessions",t.jsxs("span",{className:"search-date",style:{marginLeft:"20px"},children:[t.jsx("input",{type:"date",value:c,onChange:l=>f(l.target.value)})," ","To"," ",t.jsx("input",{type:"date",value:d,onChange:l=>m(l.target.value)}),t.jsx("button",{onClick:C,children:"Search"}),t.jsx("button",{className:"download-btn",onClick:u,children:"Download"})]})]}),t.jsx(Tn,{component:wn,children:t.jsxs(Dn,{children:[t.jsx(Sn,{className:"table-head",children:t.jsxs(Oe,{children:[t.jsx(A,{children:"Date"}),t.jsx(A,{children:"Login Time"}),t.jsx(A,{children:"Login Location"}),t.jsx(A,{children:"Logout Time"}),t.jsx(A,{children:"Logout Location"}),t.jsx(A,{children:"Work Hours"})]})}),t.jsx(kn,{children:e.length>0?e.map((l,w)=>{var L,N,$,I;return t.jsxs(Oe,{hover:!0,onClick:()=>O(l.date),style:{cursor:"pointer"},children:[t.jsx(A,{children:H(ln(l.date),"d/M/yyyy")}),t.jsx(A,{children:b(l.loginTime)}),t.jsxs(A,{children:[l.loginAddress||"N/A"," ",((L=l.loginLocation)==null?void 0:L.latitude)&&((N=l.loginLocation)==null?void 0:N.longitude)&&t.jsx(Ne,{size:"small",href:`https://maps.google.com/?q=${l.loginLocation.latitude},${l.loginLocation.longitude}`,target:"_blank",rel:"noopener noreferrer",sx:{padding:0,marginLeft:1},children:t.jsx(Pt,{fontSize:"small",color:"primary"})})]}),t.jsx(A,{children:b(l.logoutTime)}),t.jsxs(A,{children:[l.logoutAddress||"N/A"," ",(($=l.logoutLocation)==null?void 0:$.latitude)&&((I=l.logoutLocation)==null?void 0:I.longitude)&&t.jsx(Ne,{size:"small",href:`https://maps.google.com/?q=${l.logoutLocation.latitude},${l.logoutLocation.longitude}`,target:"_blank",rel:"noopener noreferrer",sx:{padding:0,marginLeft:1},children:t.jsx(Pt,{fontSize:"small",color:"primary"})})]}),t.jsx(A,{children:k(l.loginTime,l.logoutTime)})]},w)}):t.jsx(Oe,{children:t.jsx(A,{colSpan:6,className:"no-data",children:"No session data available."})})})]})}),t.jsxs(mt,{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[t.jsx(ee,{variant:"outlined",onClick:()=>s(l=>Math.max(l-1,1)),disabled:o===1,children:"Previous"}),t.jsxs(ae,{children:["Page ",o," of ",E||1]}),t.jsx(ee,{variant:"outlined",onClick:()=>s(l=>Math.min(l+1,E)),disabled:o===E||E===0,children:"Next"})]}),t.jsxs(gt,{open:y,onClose:x,maxWidth:"md",fullWidth:!0,children:[t.jsxs(xt,{children:["Employee Activity for"," ",T&&H(ln(T),"d/M/yyyy"),t.jsx(Ne,{"aria-label":"close",onClick:x,sx:{position:"absolute",right:8,top:8,color:l=>l.palette.grey[500]},children:t.jsx(Rt,{})})]}),t.jsx(yt,{dividers:!0,children:T&&t.jsx(ns,{employeeId:n,day:T})})]})]})},dt="https://silitzer-pharma.onrender.com",os=({employee:n,username:e,AuthUser_id:r,refreshEmployeesList:o,openViewEmployee:s})=>{const[a,p]=h.useState(n),[i,c]=h.useState(e||""),[f,d]=h.useState(""),[m,y]=h.useState(!1),[g,T]=h.useState(null),[j,v]=h.useState(""),[D,S]=h.useState(!1),C=l=>{const{name:w,value:L}=l.target;p(N=>({...N,[w]:L}))},u=()=>{if(!a||!a._id||!r){re.error("Missing employee IDs");return}let l=null;if(a.JoiningDate){const L=a.JoiningDate.split("/");if(L.length===3){const[N,$,I]=L,R=new Date(`${I}-${$}-${N}T00:00:00Z`);isNaN(R.getTime())||(l=R.toISOString())}}const w={...a,JoiningDate:l};fetch(`${dt}/admin/employee/update`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employeeId:r,employee:{...w,_id:a._id},username:i,password:(f==null?void 0:f.trim())||void 0})}).then(L=>{if(!L.ok)throw new Error("Failed to update employee");return L.json()}).then(()=>{re.success("Employee updated successfully"),y(!1),d(""),o()}).catch(L=>{re.error("Update failed: "+L.message)})},b=()=>{T("remove"),S(!0)},k=()=>{if(!a._id){re.error("Missing employee ID");return}fetch(`${dt}/admin/employee/delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employeeId:r})}).then(l=>l.ok?l.json():l.json().then(w=>{throw new Error(w.message||"Failed to delete employee")})).then(()=>{re.success("Employee deleted successfully."),S(!1),v(""),o(),s()}).catch(l=>{re.error("Error deleting employee: "+l.message)})},E=()=>{T("block"),S(!0)},O=()=>{if(!a._id){re.error("Missing employee ID");return}const l=!a.isBlock;fetch(`${dt}/admin/employee/block`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({employeeId:r,isBlock:l})}).then(w=>{if(!w.ok)throw new Error("Failed to update block status");return w.json()}).then(()=>{p(w=>({...w,isBlock:l})),re.success(l?"Employee blocked.":"Employee unblocked."),S(!1),v("")}).catch(w=>{re.error("Error updating block status: "+w.message)})},x=async()=>{try{if(!(await fetch(`${dt}/auth/verifypassword`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:j})})).ok)throw new Error("Password verification failed");S(!1),v(""),g==="remove"?k():g==="block"&&O()}catch{re.error("Invalid password. Action denied.")}};return a?t.jsxs("div",{className:"EmployeeProfile",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("img",{src:a.profilePhotoUrl||"https://www.shutterstock.com/image-vector/avatar-gender-neutral-silhouette-vector-600nw-2470054311.jpg",alt:"Profile"}),t.jsxs("div",{className:"profile-id",children:["Employee ID: ",a.EmployeeID]})]}),t.jsxs("div",{className:"profile-section",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Username:"})," ",m?t.jsx("input",{name:"username",value:i,onChange:l=>c(l.target.value)}):i]}),[{label:"Name",name:"Name"},{label:"Email",name:"Email"},{label:"Phone Number",name:"PhoneNumber"},{label:"Position",name:"Position"},{label:"Address",name:"Address"},{label:"Image URL",name:"profilePhotoUrl"}].map(({label:l,name:w})=>t.jsxs("span",{children:[t.jsxs("strong",{children:[l,":"]})," ",m?t.jsx("input",{name:w,value:a[w]||"",onChange:C}):a[w]]},w)),t.jsxs("span",{children:[t.jsx("strong",{children:"Joining Date:"})," ",m?t.jsx("input",{name:"JoiningDate",value:a.JoiningDate||"",onChange:C,placeholder:"dd/mm/yyyy"}):a.JoiningDate]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Status:"})," ",a.IsActive?"Active":"Inactive"]}),t.jsxs("span",{className:`status ${a.isBlock?"blocked":""}`,children:[t.jsx("strong",{children:"Blocked:"})," ",a.isBlock?"Yes":"No"]}),m&&t.jsxs("span",{children:[t.jsx("strong",{children:"Password:"})," ",t.jsx("input",{type:"password",value:f,onChange:l=>d(l.target.value),placeholder:"Leave blank to keep unchanged"})]})]}),t.jsx("div",{className:"action-buttons",children:m?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"edit-btn",onClick:u,children:"Save"}),t.jsx("button",{className:"cancel-btn",onClick:()=>{y(!1),d("")},children:"Cancel"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"edit-btn",onClick:()=>y(!0),children:"Edit"}),t.jsx("button",{className:"remove-btn",onClick:b,children:"Remove"}),t.jsx("button",{className:"block-btn",onClick:E,children:a.isBlock?"Unblock":"Block"})]})}),D&&t.jsx("div",{className:"password-dialog",children:t.jsxs("div",{className:"dialog-content",children:[t.jsx("h4",{children:"Enter Password to Confirm"}),t.jsx("input",{type:"password",value:j,onChange:l=>v(l.target.value),placeholder:"Password"}),t.jsxs("div",{className:"dialog-actions",children:[t.jsx("button",{onClick:x,children:"Confirm"}),t.jsx("button",{onClick:()=>{S(!1),v("")},children:"Cancel"})]})]})})]}):t.jsx("div",{children:"Loading employee data..."})},ss=5,as="https://silitzer-pharma.onrender.com",is=({employeeId:n})=>{const[e,r]=h.useState(null),[o,s]=h.useState([]),[a,p]=h.useState(!0),[i,c]=h.useState({}),[f,d]=h.useState(""),[m,y]=h.useState(""),[g,T]=h.useState(""),[j,v]=h.useState(1),[D,S]=h.useState(1),[C,u]=h.useState(null),[b,k]=h.useState(!1);h.useEffect(()=>{if(!n)return;(async()=>{p(!0);try{let w=`${as}/admin/employee/leaves?employeeId=${n}&page=${j}&limit=${ss}`;f&&(w+=`&fromDate=${f}`),m&&(w+=`&toDate=${m}`),g&&(w+=`&status=${g}`);const N=await(await fetch(w,{credentials:"include"})).json();r(N.leaveBalance||{}),s(N.leaveRequests||[]),S(N.totalPages||1),c(N.leaves||{})}catch(w){console.error("Error fetching leave data:",w)}finally{p(!1)}})()},[n,f,m,g,j]);const E=l=>{u(l),k(!0)},O=()=>{k(!1),u(null)},x=l=>{l<1||l>D||v(l)};return t.jsxs("div",{className:"employee-leave",children:[t.jsx("h2",{children:"Leave Balance"}),t.jsx("div",{className:"leave-balance",children:e&&Object.entries(e).map(([l,w])=>t.jsxs("div",{className:"leave-card",children:[t.jsx("span",{className:"type",children:l.charAt(0).toUpperCase()+l.slice(1)}),t.jsx("span",{className:"count",children:w})]},l))}),t.jsxs("div",{className:"leaves",children:[t.jsx("h2",{children:"Leaves"}),t.jsxs("div",{className:"leaves-count",children:[t.jsxs("div",{children:[t.jsx("span",{children:"Casual:"})," ",t.jsx("span",{children:i.casual})]}),t.jsxs("div",{children:[t.jsx("span",{children:"Sick:"})," ",t.jsx("span",{children:i.sick})]}),t.jsxs("div",{children:[t.jsx("span",{children:"Unpaid:"})," ",t.jsx("span",{children:i.unpaid})]}),t.jsxs("div",{children:[t.jsx("span",{children:"Earned:"})," ",t.jsx("span",{children:i.earned})]})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsxs("div",{className:"date-filter",children:[t.jsx("label",{htmlFor:"from-date",children:"From:"}),t.jsx("input",{type:"date",id:"from-date",value:f,onChange:l=>{d(l.target.value),v(1)}})]}),t.jsxs("div",{className:"date-filter",children:[t.jsx("label",{htmlFor:"to-date",children:"To:"}),t.jsx("input",{type:"date",id:"to-date",value:m,onChange:l=>{y(l.target.value),v(1)}})]}),t.jsxs("div",{className:"date-filter",children:[t.jsx("label",{htmlFor:"status",children:"Status:"}),t.jsxs("select",{id:"status",value:g,onChange:l=>{T(l.target.value),v(1)},children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),a?t.jsx("p",{children:"Loading leave data..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"leave-requests-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Request ID"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Reason"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Applied At"})]})}),t.jsx("tbody",{children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,style:{textAlign:"center"},children:"No leave requests found."})}):o.map(l=>t.jsxs("tr",{className:l.status.toLowerCase(),children:[t.jsx("td",{children:l.requestId}),t.jsx("td",{children:l.leaveType}),t.jsx("td",{children:new Date(l.startDate).toLocaleDateString("en-GB")}),t.jsx("td",{children:new Date(l.endDate).toLocaleDateString("en-GB")}),t.jsx("td",{children:t.jsxs("span",{className:"reason-link",onClick:()=>E(l),children:[l.reason.length>20?l.reason.slice(0,20)+"... ":l.reason+" ",t.jsx("u",{children:"see"})]})}),t.jsx("td",{className:"status",children:l.status}),t.jsx("td",{children:new Date(l.appliedAt).toLocaleDateString("en-GB")})]},l.requestId))})]})}),t.jsxs("div",{className:"pagination",children:[t.jsx("button",{onClick:()=>x(j-1),disabled:j<=1,children:"Prev"}),t.jsxs("span",{children:["Page ",j," of ",D]}),t.jsx("button",{onClick:()=>x(j+1),disabled:j>=D,children:"Next"})]})]}),b&&C&&t.jsx("div",{className:"reason-dialog",children:t.jsxs("div",{className:"dialog-content",children:[t.jsx("h3",{children:"Leave Reason"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Reason:"})," ",C.reason]}),C.status==="Rejected"&&C.rejectionReason&&t.jsxs("p",{children:[t.jsx("strong",{children:"Rejection Reason:"})," ",C.rejectionReason]}),t.jsx("button",{onClick:O,children:"Close"})]})})]})},ls="https://silitzer-pharma.onrender.com",cs=({openViewEmployee:n,EmployeeId:e,EmployeeObjectId:r,refreshEmployeesList:o})=>{const{id:s}=nr(),[a]=rr(),p=a.get("tab"),i=["profile","today","sessions","tasks","leave","requests"],[c,f]=h.useState(i.includes(p)?p:"today"),d=e||s,[m,y]=h.useState(null),[g,T]=h.useState(!1),[j,v]=h.useState(null),[D,S]=h.useState(""),[C,u]=h.useState(1),[b,k]=h.useState(!1),E=()=>k(x=>!x);h.useEffect(()=>{d&&(T(!0),fetch(`${ls}/admin/employee/data`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({EmployeeID:d})}).then(x=>{if(!x.ok)throw new Error("Failed to fetch employee data");return x.json()}).then(x=>{u(x.data.requestcount);const l=x.data.employee;if(l.JoiningDate){const w=new Date(l.JoiningDate);l.JoiningDate=isNaN(w.getTime())?"":`${String(w.getDate()).padStart(2,"0")}/${String(w.getMonth()+1).padStart(2,"0")}/${w.getFullYear()}`}y(l),S(x.data.username||""),T(!1)}).catch(x=>{console.error(x),v(x.message),T(!1)}))},[d,b]);const O=[{key:"profile",label:"Profile"},{key:"today",label:"TodaysActivity"},{key:"sessions",label:"Work Sessions"},{key:"tasks",label:"Manage Tasks"},{key:"leave",label:"Leave"},{key:"requests",label:t.jsx(or,{badgeContent:C,color:"error",max:99,sx:{"& .MuiBadge-badge":{fontSize:"10px",height:"16px",minWidth:"16px",top:"2px",right:"-8px"}},children:"Requests"})}];return t.jsxs("div",{className:"ViewEmployee",children:[t.jsx("div",{className:"ViewEmployee-head",children:t.jsx("h2",{className:"ViewEmployee-username",children:D})}),t.jsxs("nav",{className:"ViewEmployee-nav",children:[O.map(x=>t.jsx("div",{className:`nav-link ${c===x.key?"active":""}`,onClick:()=>f(x.key),children:x.label},x.key)),n&&t.jsx("button",{className:"nav-link btn",onClick:n,children:t.jsx(Rt,{})})]}),t.jsxs("div",{className:"ViewEmployee-container",children:[g&&t.jsx("div",{className:"loading",children:"Loading employee data..."}),j&&t.jsxs("div",{className:"error",children:["Error: ",j]}),!g&&m&&t.jsxs(t.Fragment,{children:[c==="profile"&&t.jsx(os,{employee:m,username:D,AuthUser_id:d,refreshEmployeesList:o,openViewEmployee:n}),c==="today"&&t.jsx(Zo,{employeeId:m==null?void 0:m._id}),c==="sessions"&&t.jsx(rs,{employeeId:m==null?void 0:m._id}),c==="tasks"&&t.jsx(es,{employeeId:m==null?void 0:m._id}),c==="leave"&&t.jsx(is,{employeeId:m==null?void 0:m._id}),c==="requests"&&t.jsx(cr,{employeeId:m==null?void 0:m._id,refreshEmployeeData:E})]})]})]})},ws=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"}));export{Bn as L,Fn as T,cs as V,ws as a};
