import{r as e,j as s}from"./index-DlcvTWOH.js";const f="https://silitzer-pharma.onrender.com";function j(){const[a,h]=e.useState([]),[i,m]=e.useState(""),[o,n]=e.useState(!1),[c,d]=e.useState(null),b=async r=>{n(!0),d(null);const t=new URL(`${f}/employee/distributors`);r&&t.searchParams.append("search",r);try{const u=await(await fetch(t.toString(),{credentials:"include"})).json();h(Array.isArray(u)?u:[])}catch(l){console.error("Failed to fetch distributors",l),d("Error fetching distributors.")}finally{n(!1)}};return e.useEffect(()=>{const r=setTimeout(()=>{b(i.trim())},300);return()=>clearTimeout(r)},[i]),s.jsxs("div",{className:"distributors-container",children:[s.jsx("h2",{className:"distributors-header",children:"Distributors"}),s.jsx("input",{type:"text",placeholder:"Search by name",value:i,onChange:r=>m(r.target.value),className:"distributors-search"}),o&&s.jsx("div",{className:"distributors-info",children:"Loading..."}),c&&s.jsx("div",{className:"distributors-info error",children:c}),!o&&a.length===0&&s.jsx("div",{className:"distributors-info",children:"No matching distributors."}),s.jsx("div",{className:"distributors-list",children:a.map((r,t)=>s.jsxs("div",{className:"distributor-card",children:[s.jsxs("div",{className:"distributor-field",children:[s.jsx("strong",{children:"Name:"})," ",r.name]}),s.jsxs("div",{className:"distributor-field",children:[s.jsx("strong",{children:"Phone:"})," ",r.phone_number]}),s.jsxs("div",{className:"distributor-field",children:[s.jsx("strong",{children:"Address:"})," ",r.address]})]},t))})]})}export{j as default};
