import{r as d,j as s}from"./index-DlcvTWOH.js";const f="https://silitzer-pharma.onrender.com",b=()=>{const[l,u]=d.useState([]),[t,n]=d.useState(1),[c,h]=d.useState(1),[i,x]=d.useState(null),[m,o]=d.useState(!0),j=async e=>{o(!0);try{const r=await(await fetch(`${f}/admin/order/today?page=${e}&limit=5`,{method:"GET",credentials:"include"})).json();r.success&&(u(r.data),h(r.totalPages),n(r.page))}catch(a){console.error("Error fetching today orders:",a)}finally{o(!1)}};d.useEffect(()=>{j(t)},[t]);const p=e=>{x(e===i?null:e)},g=()=>t>1&&n(t-1),N=()=>t<c&&n(t+1);return s.jsxs("div",{className:"today-orders-container",children:[s.jsx("h2",{children:"ðŸ“¦ Today's Orders"}),m?s.jsx("div",{className:"loader",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"orders-list",children:l.map((e,a)=>s.jsxs("div",{className:"order-card",children:[s.jsxs("div",{className:"order-header",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:["Order #",e.orderNumber]}),s.jsxs("div",{className:"sub-info",children:["Distributor: ",e.distributor]})]}),s.jsx("div",{className:`status ${e.status.toLowerCase()}`,children:e.status}),s.jsx("button",{onClick:()=>p(a),children:i===a?"Hide Products":"View Products"})]}),i===a&&s.jsx("div",{className:"product-details",children:e.productList.map((r,v)=>s.jsxs("div",{className:"product-item",children:[s.jsx("span",{children:r.productName}),s.jsxs("span",{className:"quantity",children:["x",r.quantity]})]},v))})]},a))}),s.jsxs("div",{className:"pagination",children:[s.jsx("button",{onClick:g,disabled:t===1,children:"â—€ Prev"}),s.jsxs("span",{children:["Page ",t," of ",c]}),s.jsx("button",{onClick:N,disabled:t===c,children:"Next â–¶"})]})]})]})};export{b as default};
