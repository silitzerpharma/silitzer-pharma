import{r as i,w as P,h as A,j as s,n as O}from"./index-DlcvTWOH.js";/* empty css                   */import{S as T}from"./Snackbar-z76ToobN.js";import{A as U}from"./Alert-D_RgXu2Q.js";import"./IconButton-eRt6TsSc.js";const $="https://silitzer-pharma.onrender.com",I=()=>{var h,m,x,j,f;const[n,g]=i.useState(1),{productId:l}=P(),[t,v]=i.useState(null),[r,N]=i.useState("Specifications"),[S,u]=i.useState(!1),[o,y]=i.useState([]),b=A(),k=["Specifications","Description","Advantages","Features","How to Use","Uses","Other"],d=e=>{if(!e)return"";const a=new Date(e);if(isNaN(a))return"";const c=String(a.getDate()).padStart(2,"0"),D=String(a.getMonth()+1).padStart(2,"0"),w=a.getFullYear();return`${c}/${D}/${w}`};i.useEffect(()=>{(async()=>{try{const c=await(await fetch(`${$}/distributor/product/${l}`,{credentials:"include"})).json();c.product&&(v(c.product),y(c.offers||[]))}catch(a){console.error("Error fetching product:",a)}})()},[l]);const C=()=>{n>0&&t&&(b(O({...t,quantity:n,offers:o,image:t.imageUrl})),u(!0))},p=(e,a)=>{a!=="clickaway"&&u(!1)};return t?s.jsxs("div",{className:"product-detalis-Container",children:[s.jsxs("div",{className:"product-header",children:[s.jsx("div",{className:"right",children:s.jsx("img",{src:t.imageUrl,alt:t.productName})}),s.jsxs("div",{className:"left",children:[s.jsx("div",{className:"product-name",children:t.productName}),o.length>0&&s.jsxs("div",{className:"product-offers",children:[s.jsx("strong",{children:"Available Offers:"}),s.jsx("ul",{className:"offer-list",children:o.map((e,a)=>s.jsxs("li",{children:[e.description,e.validTill&&s.jsxs("span",{className:"valid-till",children:[" ","(Valid till: ",d(e.validTill),")"]})]},a))})]}),s.jsxs("div",{className:"date-info",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Expiry Date:"})," ",d(t.expiryDate)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Manufacture Date:"})," ",d(t.manufactureDate)]})]}),s.jsxs("div",{className:"batch-hsn",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"BatchNumber:"})," ",t.batchNumber]}),s.jsxs("div",{children:[s.jsx("strong",{children:"HsnCode:"})," ",t.hsnCode]})]}),s.jsxs("div",{className:"unitsPerBox",children:[s.jsx("strong",{children:"unitsPerBox:"})," ",t.unitsPerBox]}),s.jsx("div",{className:`stock-status ${t.inStock?"in-stock":"out-of-stock"}`,children:t.inStock?"In Stock":"Out of Stock"}),s.jsxs("div",{className:"add-to-cart",children:[s.jsx("input",{type:"number",id:"productCount",name:"productCount",value:n,min:1,placeholder:"Qty",onChange:e=>g(Number(e.target.value))}),s.jsx("button",{className:"add-cart",disabled:!t.inStock||n<1,onClick:C,children:"Add TO Cart"})]})]})]}),s.jsxs("div",{className:"product-details",children:[s.jsx("div",{className:"product-details-nav flex space-x-4 cursor-pointer",children:k.map(e=>s.jsx("div",{onClick:()=>N(e),className:`px-3 py-1 rounded ${r===e?"bg-blue-500 text-white active-product-nav":"bg-gray-200"}`,children:e},e))}),s.jsxs("div",{className:"product-details-more mt-4 space-y-2",children:[r==="Description"&&t.productDescription&&s.jsx("p",{className:"text-sm text-gray-700",children:t.productDescription}),r==="Advantages"&&((h=t.advantages)==null?void 0:h.map((e,a)=>s.jsxs("p",{className:"text-sm text-gray-700",children:["• ",e]},a))),r==="Features"&&((m=t.features)==null?void 0:m.map((e,a)=>s.jsxs("p",{className:"text-sm text-gray-700",children:["• ",e]},a))),r==="How to Use"&&((x=t.howToUse)==null?void 0:x.map((e,a)=>s.jsxs("p",{className:"text-sm text-gray-700",children:["• ",e]},a))),r==="Uses"&&((j=t.uses)==null?void 0:j.map((e,a)=>s.jsxs("p",{className:"text-sm text-gray-700",children:["• ",e]},a))),r==="Specifications"&&((f=t.specifications)==null?void 0:f.map(({key:e,value:a},c)=>s.jsxs("p",{className:"text-sm text-gray-700",children:["• ",e,": ",a]},c))),r==="Other"&&s.jsx("p",{children:t.other})]})]}),s.jsx(T,{open:S,autoHideDuration:3e3,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s.jsx(U,{onClose:p,severity:"success",sx:{width:"100%"},children:"Product added to cart!"})})]}):s.jsx("div",{className:"loading-message",children:"Loading product..."})};export{I as default};
