import{g as L,a as D,r as d,u as $,j as t,s as U,c as _,b as B,m as I,d as M,e as N,k as S,f as T,G as O,h as w,i as C,l as k,n as R}from"./index-DlcvTWOH.js";import{S as V}from"./Snackbar-z76ToobN.js";import{A as q}from"./Alert-D_RgXu2Q.js";import{S as z,A as Q,N as H,a as W,O as G}from"./OfferSlider-1zXZl7lO.js";/* empty css                   */import"./IconButton-eRt6TsSc.js";function X(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function K(e){return parseFloat(e)}function F(e){return L("MuiSkeleton",e)}D("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const J=e=>{const{classes:o,variant:s,animation:n,hasChildren:m,width:l,height:u}=e;return B({root:["root",s,n,m&&"withChildren",m&&!l&&"fitContent",m&&!u&&"heightAuto"]},F,o)},y=S`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,j=S`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Y=typeof y!="string"?N`
        animation: ${y} 2s ease-in-out 0.5s infinite;
      `:null,Z=typeof j!="string"?N`
        &::after {
          animation: ${j} 2s linear 0.5s infinite;
        }
      `:null,tt=U("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,o[s.variant],s.animation!==!1&&o[s.animation],s.hasChildren&&o.withChildren,s.hasChildren&&!s.width&&o.fitContent,s.hasChildren&&!s.height&&o.heightAuto]}})(I(({theme:e})=>{const o=X(e.shape.borderRadius)||"px",s=K(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:M(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${s}${o}/${Math.round(s/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Y||{animation:`${y} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Z||{"&::after":{animation:`${j} 2s linear 0.5s infinite`}}}]}})),b=d.forwardRef(function(o,s){const n=$({props:o,name:"MuiSkeleton"}),{animation:m="pulse",className:l,component:u="span",height:h,style:r,variant:i="text",width:p,...g}=n,f={...n,animation:m,component:u,variant:i,hasChildren:!!g.children},x=J(f);return t.jsx(tt,{as:u,ref:s,className:_(x.root,l),ownerState:f,...g,style:{width:p,height:h,...r}})}),et=T(t.jsx("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"}));function at(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(e)}const st="https://silitzer-pharma.onrender.com",nt=()=>{const[e,o]=d.useState([]),[s,n]=d.useState(!0),[m,l]=d.useState(!1),[u,h]=d.useState({}),r=w(),i=C();d.useEffect(()=>{(async()=>{try{const v=await(await fetch(`${st}/distributor/getallproducts`,{method:"GET",credentials:"include"})).json();o(v)}catch(c){console.error("Error fetching products:",c)}finally{n(!1)}})()},[]);const p=(a,c)=>{(c===""||/^[0-9\b]+$/.test(c))&&h(v=>({...v,[a]:c}))},g=a=>{const c=parseInt(u[a._id],10)||1;!a.inStock||c<1||(r(R({...a,image:a.imageUrl,offers:a.offers,quantity:c})),l(!0),h(v=>({...v,[a._id]:1})))},f=(a,c)=>{c!=="clickaway"&&l(!1)},x=a=>{i(`/distributor/product/${a}`)},A={offscreen:{y:40,opacity:0},onscreen:{y:0,opacity:1,transition:{type:"spring",bounce:.2,duration:.6}}},E={rest:{scale:1,backgroundColor:"#2e7d32"},hover:{scale:1.05,backgroundColor:"#4caf50",transition:{duration:.3}},tap:{scale:.95,backgroundColor:"#1b5e20",transition:{duration:.1}}};return t.jsxs("div",{className:"AllProductList-container",children:[t.jsx("div",{className:"title",children:"Product-List"}),t.jsx("div",{className:"product-list",children:s?Array.from({length:8}).map((a,c)=>t.jsxs("div",{className:"card",style:{flex:"0 0 calc(25% - 1.5rem)",background:"#fff",borderRadius:"16px",padding:"1rem"},children:[t.jsx(b,{variant:"rectangular",height:140,sx:{borderRadius:2,bgcolor:"rgba(46, 125, 50, 0.1)",animationDuration:"1.5s"}}),t.jsx(b,{variant:"text",height:30,sx:{mt:1,borderRadius:1,bgcolor:"rgba(46, 125, 50, 0.15)",animationDuration:"1.5s"}}),t.jsx(b,{variant:"text",width:"60%",sx:{borderRadius:1,bgcolor:"rgba(46, 125, 50, 0.15)",animationDuration:"1.5s"}}),t.jsx(b,{variant:"rectangular",width:"80%",height:36,sx:{mt:1,borderRadius:20,bgcolor:"rgba(46, 125, 50, 0.2)",animationDuration:"1.5s"}})]},c)):e.map(a=>t.jsxs(k.div,{className:"card",variants:A,initial:"offscreen",whileInView:"onscreen",viewport:{once:!0,amount:.3},style:{flex:"0 0 calc(25% - 1.5rem)",background:"#fff",borderRadius:"16px",overflow:"hidden"},children:[t.jsx("div",{className:"card-left",onClick:()=>x(a._id),children:t.jsx("img",{src:a.imageUrl||"/images/default-product.jpg",alt:a.productName,onError:c=>{c.target.src="/default-product.png"}})}),t.jsxs("div",{className:"card-right",children:[t.jsx("div",{className:"product-name",onClick:()=>x(a._id),children:a.productName}),a.unitsPerBox>0&&t.jsxs("p",{className:"units-info",children:["Units per Box: ",a.unitsPerBox]}),t.jsx("span",{className:a.inStock?"text-green-600":"text-red-600",children:a.inStock?"In Stock":"Out of Stock"}),t.jsxs("div",{className:"quantity-cart-group",children:[t.jsx("input",{type:"number",min:"1",placeholder:"Qty",className:"quantity-input",value:u[a._id]||1,onChange:c=>p(a._id,c.target.value),onBlur:c=>{const v=parseInt(c.target.value,10);(isNaN(v)||v<1)&&h(P=>({...P,[a._id]:1}))}}),t.jsx(k.button,{onClick:()=>g(a),disabled:!a.inStock,className:"add-to-cart-button",variants:E,initial:"rest",whileHover:"hover",whileTap:"tap",children:"Add To Cart"})]})]})]},a._id))}),t.jsx(V,{open:m,autoHideDuration:3e3,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(q,{onClose:f,severity:"success",sx:{width:"100%"},children:"Product added to cart!"})})]})},rt=({product:e})=>{const o=w(),[s,n]=d.useState(1),m=C(),l=()=>{const i=Number(s);if(!e.inStock||isNaN(i)||i<1)return;const p={...e,quantity:i,image:e.imageUrl,offers:e.offers};o(R(p)),n(1)},u=i=>{const p=i.target.value;(p===""||/^[0-9\b]+$/.test(p))&&n(p)},h=()=>{const i=parseInt(s);isNaN(i)||i<1?n(1):n(i)},r=i=>{m(`/distributor/product/${i}`)};return t.jsxs("div",{className:"slidercard-container",children:[t.jsx("div",{className:"slidercard-top",onClick:()=>r(e._id),children:t.jsx("img",{src:e.imageUrl||"/images/default-product.jpg",alt:e.productName||"Product",onError:i=>{i.target.onerror=null,i.target.src="/images/default-product.png"}})}),t.jsxs("div",{className:"slidercard-bottom",children:[t.jsx("div",{className:"name",onClick:()=>r(e._id),children:e.productName||e.name||"Unnamed Product"}),e.unitsPerBox>0&&t.jsxs("p",{className:"units-info",children:["Units per Box: ",e.unitsPerBox]}),t.jsx("div",{className:`stock-status ${e.inStock?"in-stock":"out-of-stock"}`,children:e.inStock?"In Stock":"Out of Stock"}),t.jsxs("div",{className:"add-cart",children:[t.jsx("input",{type:"number",min:"1",value:s,onChange:u,onBlur:h,placeholder:"Qty 1"}),t.jsx("button",{onClick:l,disabled:!e.inStock,children:"Add to Cart"})]})]})]})},it=({productsList:e=[],title:o=""})=>{const s=d.useRef(null),n=d.useRef(null),m=d.useRef(null),l=d.useRef(null),[u,h]=d.useState(!1);return d.useEffect(()=>{s.current&&n.current&&h(!0)},[]),d.useEffect(()=>{const r=m.current;if(!r||!l.current)return;const i=l.current,p=()=>{var f;return(f=i.autoplay)==null?void 0:f.stop()},g=()=>{var f;return(f=i.autoplay)==null?void 0:f.start()};return r.addEventListener("mouseenter",p),r.addEventListener("mouseleave",g),r.addEventListener("touchstart",p),r.addEventListener("touchend",g),()=>{r.removeEventListener("mouseenter",p),r.removeEventListener("mouseleave",g),r.removeEventListener("touchstart",p),r.removeEventListener("touchend",g)}},[u]),t.jsxs("div",{className:"slider-container relative",ref:m,children:[t.jsx("div",{className:"slider-title",children:o}),t.jsx("div",{className:"slider-nav-button left-button",ref:s,children:"‹"}),t.jsx("div",{className:"slider-nav-button right-button",ref:n,children:"›"}),Array.isArray(e)&&e.length>0?t.jsx(z,{modules:[Q,H],spaceBetween:20,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:500,navigation:{prevEl:s.current,nextEl:n.current},onBeforeInit:r=>{r.params.navigation.prevEl=s.current,r.params.navigation.nextEl=n.current,l.current=r},breakpoints:{0:{slidesPerView:2},640:{slidesPerView:3},1024:{slidesPerView:5},1280:{slidesPerView:6}},children:e.map((r,i)=>t.jsx(W,{children:t.jsx(rt,{product:r})},r._id||i))},u?"ready":"loading"):t.jsx("div",{className:"text-center text-gray-500 py-6",children:"No products to display."})]})},ot="https://silitzer-pharma.onrender.com",pt=()=>{const[e,o]=d.useState({}),[s,n]=d.useState([]);d.useEffect(()=>{(async()=>{try{const h=await(await fetch(`${ot}/distributor/dashboard/data`,{method:"GET",credentials:"include"})).json();o(h),n(h.sliders)}catch(u){console.error("Error fetching distributors:",u)}})()},[]);const m=()=>{const h=`https://wa.me/919156701799?text=${encodeURIComponent("Hello, I want to place an order.")}`;window.open(h,"_blank")};return t.jsxs("div",{className:"distributor-dashboard",children:[t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"whatsapp-div",onClick:m,children:[t.jsx(et,{})," ORDER ON WHATSAPP"]}),t.jsxs("section",{className:"slider-section",children:[t.jsx(G,{offersList:e.offers}),s.map(l=>t.jsx(it,{productsList:l.productList,title:l.title},l._id))]}),t.jsx("section",{className:"all-product-list",children:t.jsx(nt,{})})]}),t.jsxs("footer",{className:"footer",children:["© 2025 ",t.jsx("strong",{children:"Silitzer-Pharma"}),t.jsx(at,{className:"footer-icon"}),t.jsx("a",{href:"mailto:support@silitzerpharma.com",children:"Silitzerpharma@outlook.com"})]})]})};export{pt as default};
