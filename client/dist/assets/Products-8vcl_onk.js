import{r as s,j as e,L as V,U as ve,B as ce,P as fe}from"./index-DlcvTWOH.js";/* empty css              */import{S as ee}from"./ShowMessage-CBlrf01s.js";import{D as ye,a as be,b as we,c as Ce}from"./DialogTitle-DGL2koDV.js";import{D as Ne}from"./DialogContentText-BFDKx7jj.js";import{T as Se}from"./TableContainer-CQmYnS7h.js";import{T as Pe,a as De,b as Z,c as U,d as Re}from"./TableRow-DuThesGT.js";import{T as ke}from"./TableSortLabel-Csm9lG0A.js";import{T as Te}from"./TablePagination-C03NsVHS.js";import"./IconButton-eRt6TsSc.js";import"./Stack-B0Za308U.js";import"./getThemeProps-DR8AxGiy.js";import"./LastPage-DpFt_x2b.js";import"./Select-BpVlYiRl.js";import"./useControlled-CHhDBfC_.js";import"./useFormControl-CXPDb4oN.js";const Ae="https://silitzer-pharma.onrender.com",Fe=({product:b,setIsEditing:y,refreshProductDetails:w,setMsgData:P})=>{const[h,C]=s.useState({...b,imageDeleteFlag:!1}),[o,N]=s.useState(!1),[x,S]=s.useState(null),[v,D]=s.useState(b.imageUrl||""),p=(a,n)=>{C(i=>({...i,[a]:n}))},O=a=>{const n=a.target.files[0];if(n){S(n);const i=new FileReader;i.onloadend=()=>D(i.result),i.readAsDataURL(n),C(r=>({...r,imageDeleteFlag:!1}))}},g=(a,n,i,r=null)=>{const c=[...h[a]];r?c[n][r]=i:c[n]=i,p(a,c)},f=(a,n)=>{p(a,[...h[a],n])},R=(a,n)=>{const i=h[a].filter((r,c)=>c!==n);p(a,i)},k=(a,n)=>e.jsxs("div",{children:[e.jsxs("label",{children:[n,":"]}),e.jsx("ul",{style:{paddingLeft:0,listStyle:"none"},children:h[a].map((i,r)=>e.jsxs("li",{style:{display:"flex",gap:"0.5rem",marginBottom:4},children:[e.jsx("input",{type:"text",value:i,onChange:c=>g(a,r,c.target.value),style:{flexGrow:1}}),e.jsx("button",{type:"button",onClick:()=>R(a,r),children:"❌"})]},r))}),e.jsxs("button",{type:"button",onClick:()=>f(a,""),children:["➕ Add ",n]})]}),A=()=>e.jsxs("div",{children:[e.jsx("label",{children:"Taxes:"}),e.jsx("ul",{style:{paddingLeft:0,listStyle:"none"},children:h.taxes.map((a,n)=>e.jsxs("li",{style:{display:"flex",gap:"0.5rem",marginBottom:4},children:[e.jsx("input",{type:"text",placeholder:"Name",value:a.name,onChange:i=>g("taxes",n,i.target.value,"name"),style:{flexGrow:1}}),e.jsx("input",{type:"number",placeholder:"Rate",value:a.rate??"",onChange:i=>g("taxes",n,i.target.value,"rate"),style:{width:80}}),e.jsx("button",{type:"button",onClick:()=>R("taxes",n),children:"❌"})]},n))}),e.jsx("button",{type:"button",onClick:()=>f("taxes",{name:"",rate:""}),children:"➕ Add Tax"})]}),E=()=>e.jsxs("div",{children:[e.jsx("label",{children:"Specifications:"}),e.jsx("ul",{style:{paddingLeft:0,listStyle:"none"},children:h.specifications.map((a,n)=>e.jsxs("li",{style:{display:"flex",gap:"0.5rem",marginBottom:4},children:[e.jsx("input",{type:"text",placeholder:"Key",value:a.key,onChange:i=>g("specifications",n,i.target.value,"key"),style:{flex:1}}),e.jsx("input",{type:"text",placeholder:"Value",value:a.value,onChange:i=>g("specifications",n,i.target.value,"value"),style:{flex:1}}),e.jsx("button",{type:"button",onClick:()=>R("specifications",n),children:"❌"})]},n))}),e.jsx("button",{type:"button",onClick:()=>f("specifications",{key:"",value:""}),children:"➕ Add Specification"})]}),m=(a,n,i="text",r="")=>e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("label",{htmlFor:a,style:{display:"block",fontWeight:"bold",marginBottom:4},children:[n,":"]}),e.jsx("input",{id:a,type:i,value:h[a]||"",placeholder:r,onChange:c=>p(a,c.target.value),style:{width:"100%",padding:6}})]}),F=a=>new Promise((n,i)=>{const r=new FileReader;r.onload=()=>n(r.result),r.onerror=i,r.readAsDataURL(a)}),B=async a=>{a.preventDefault(),N(!0);try{const n={...h};if(x){const c=await F(x);n.imageBase64=c,n.imageName=x.name}const i=await fetch(`${Ae}/admin/product/update`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),r=await i.json();if(!i.ok){P({show:!0,status:400,message:r.msg||"Failed to update product",warnings:Array.isArray(r.warnings)?r.warnings:[]});return}P({show:!0,status:200,message:r.msg||"Product updated successfully",warnings:Array.isArray(r.warnings)?r.warnings:[]}),w(),y(!1)}catch(n){console.error("Update error:",n),P({show:!0,status:400,message:"Network error. Please try again.",warnings:[]})}finally{N(!1)}};return o?e.jsx(V,{message:"updating product details..."}):e.jsx("div",{className:"edit-product",children:e.jsxs("form",{onSubmit:B,style:{maxWidth:600,margin:"auto",padding:20,border:"1px solid #ccc",borderRadius:8},children:[e.jsx("h2",{children:"Edit Product"}),m("productName","Product Name"),m("batchNumber","Batch Number"),m("purchaseRate","Purchase Rate","number"),m("hsnCode","HSN Code"),m("expiryDate","Expiry Date","date"),m("itemRate","Item Rate","number"),m("unitsPerBox","Units Per Box","number"),m("countryOfOrigin","Country of Origin"),m("manufacturer","Manufacturer"),m("manufactureDate","Manufacture Date","date"),e.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Product Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:O}),v&&!h.imageDeleteFlag&&e.jsxs("div",{style:{marginTop:10},children:[e.jsx("img",{src:v,alt:"preview",style:{width:100,borderRadius:4,display:"block",marginBottom:6}}),e.jsx("button",{type:"button",onClick:()=>{D(""),S(null),C(a=>({...a,imageDeleteFlag:!0}))},children:"❌ Remove Image"})]})]}),E(),k("howToUse","How to Use"),k("advantages","Advantages"),k("uses","Uses"),k("features","Features"),A(),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"productDescription",style:{fontWeight:"bold"},children:"Product Description:"}),e.jsx("textarea",{id:"productDescription",value:h.productDescription||"",onChange:a=>p("productDescription",a.target.value),style:{width:"100%",height:80,padding:6}})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"other",style:{fontWeight:"bold"},children:"Other:"}),e.jsx("textarea",{id:"other",value:h.other||"",onChange:a=>p("other",a.target.value),style:{width:"100%",height:60,padding:6}})]}),e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{type:"submit",style:{flex:1},children:"Save"}),e.jsx("button",{type:"button",onClick:()=>y(!1),style:{flex:1},children:"Cancel"})]})]})})},de="https://silitzer-pharma.onrender.com",Be=({onClose:b,selectedProduct:y,refreshProductList:w,setMsgDatap:P})=>{var m,F,B,a,n,i;const[h,C]=s.useState(!1),[o,N]=s.useState({}),[x,S]=s.useState(!1),[v,D]=s.useState(!1),[p,O]=s.useState(null),[g,f]=s.useState({show:!1,status:null,message:"",warnings:[]}),[R,k]=s.useState(!1);s.useEffect(()=>{if(!y)return;(async()=>{try{k(!0);const c=await fetch(`${de}/admin/product/details`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({productId:y._id})}),L=await c.json();c.ok||f({show:!0,status:400,message:L.msg||"Network error or server not responding.",warnings:L.warnings||[]}),N(L)}catch(c){O(c.message),console.error("Fetch product error:",c.message)}finally{k(!1)}})()},[x,y]);const A=()=>{S(r=>!r),w()},E=async()=>{try{(await fetch(`${de}/admin/product/remove`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:y._id})})).ok?(P({show:!0,status:200,message:"Product removed successfully",warnings:[]}),D(!1),w(),b()):f({show:!0,status:400,message:"Failed to remove product",warnings:[]})}catch(r){console.error("Error removing product:",r)}};return R?e.jsx(V,{message:"Geting product details..."}):e.jsxs("div",{className:"viewproduct-container",children:[h?e.jsx(Fe,{setIsEditing:C,product:o,refreshProductDetails:A,setMsgData:f}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top-close",children:e.jsx("button",{onClick:b,"aria-label":"Close product view",children:e.jsx(ve,{})})}),e.jsx("div",{className:"title",children:"Product Details"}),e.jsxs("div",{className:"product-details-div",children:[e.jsx("div",{className:"row-img",children:e.jsx("img",{src:o.imageUrl||"/images/default-product.jpg",alt:"product img"})}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Product Name:"})," ",o.productName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"product Code:"})," ",o.productCode]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Batch No:"})," ",o.batchNumber]}),e.jsxs("div",{children:[e.jsx("strong",{children:"HSN Code:"})," ",o.hsnCode]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Purchase Rate:"})," ₹",o.purchaseRate]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Item Rate:"})," ₹",o.itemRate]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Expiry Date:"})," ",o.expiryDate?new Date(o.expiryDate).toLocaleDateString():"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Manufacture Date:"})," ",o.manufactureDate?new Date(o.expiryDate).toLocaleDateString():"-"]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Manufacturer:"})," ",o.manufacturer," "]}),e.jsxs("div",{children:[" ",e.jsx("strong",{children:"Country Of Origin "}),o.countryOfOrigin," "]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"UnitsPerBox:"})," ",o.unitsPerBox," "]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Stock:"})," ",o.stock]})]}),e.jsxs("div",{className:"row-x2",children:[((m=o.advantages)==null?void 0:m.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Advantages"}),e.jsx("ul",{className:"ul-list",children:o.advantages.map((r,c)=>e.jsx("li",{children:r},c))})]}),((F=o.features)==null?void 0:F.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Features"}),e.jsx("ul",{className:"ul-list",children:o.features.map((r,c)=>e.jsx("li",{children:r},c))})]})]}),e.jsxs("div",{className:"row-x2",children:[((B=o.uses)==null?void 0:B.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Uses"}),e.jsx("ul",{className:"ul-list",children:o.uses.map((r,c)=>e.jsx("li",{children:r},c))})]}),((a=o.howToUse)==null?void 0:a.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"How to Use"}),e.jsx("ul",{className:"ul-list",children:o.howToUse.map((r,c)=>e.jsx("li",{children:r},c))})]})]}),e.jsxs("div",{className:"row-x2",children:[((n=o.specifications)==null?void 0:n.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Specifications"}),e.jsx("ul",{className:"ul-list",children:o.specifications.map((r,c)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[r.key,":"]})," ",r.value]},c))})]}),((i=o.taxes)==null?void 0:i.length)>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Taxes"}),e.jsx("ul",{className:"ul-list",children:o.taxes.map((r,c)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[r.name,":"]})," ",r.rate,"%"]},c))})]})]}),e.jsxs("div",{className:"row-x2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Description:"})," ",o.productDescription]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Other:"})," ",o.other]})]})]}),e.jsxs("div",{className:"fun-btn",children:[e.jsx("button",{onClick:()=>C(!0),children:"Edit"}),e.jsx("button",{onClick:()=>D(!0),children:"Remove"})]})]}),g.show&&e.jsx(ee,{status:g.status,message:g.message,warnings:g.warnings,onClose:()=>f({...g,show:!1})}),e.jsxs(ye,{open:v,onClose:()=>D(!1),"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[e.jsx(be,{id:"confirm-dialog-title",children:"Confirm Removal"}),e.jsx(we,{children:e.jsxs(Ne,{id:"confirm-dialog-description",children:["Are you sure you want to remove product"," ",e.jsx("strong",{children:o.productName}),"?"]})}),e.jsxs(Ce,{children:[e.jsx(ce,{onClick:()=>D(!1),color:"primary",children:"Cancel"}),e.jsx(ce,{onClick:E,color:"error",variant:"contained",children:"Yes, Remove"})]})]})]})},Ue="https://silitzer-pharma.onrender.com",Oe=({refreshFlag:b,refreshProductList:y})=>{const[w,P]=s.useState([]),[h,C]=s.useState(0),[o,N]=s.useState(!1),[x,S]=s.useState({show:!1,status:null,message:"",warnings:[]}),[v,D]=s.useState("asc"),[p,O]=s.useState("productName"),[g,f]=s.useState(0),[R,k]=s.useState(10),[A,E]=s.useState(""),[m,F]=s.useState(null),[B,a]=s.useState(null),n=async()=>{try{N(!0);const l=await fetch(`${Ue}/admin/products?page=${g+1}&limit=${R}&sortField=${p}&sortOrder=${v}&search=${encodeURIComponent(A)}`,{credentials:"include"});if(!l.ok)throw new Error("Network response was not ok");const T=await l.json();P(T.data||[]),C(T.total||0)}catch(l){console.error("Failed to fetch products:",l)}finally{N(!1)}};s.useEffect(()=>{n()},[g,R,v,p,A,b]);const i=[{id:"productCode",label:"Code"},{id:"productName",label:"Name"},{id:"batchNumber",label:"Batch No."},{id:"expiryDate",label:"Expiry"},{id:"purchaseRate",label:"Purchase Rate"},{id:"itemRate",label:"Price"},{id:"totalOrders",label:"Total Orders"}],r=l=>{D(p===l&&v==="asc"?"desc":"asc"),O(l)},c=(l,T)=>f(T),L=l=>{k(parseInt(l.target.value,10)),f(0)},H=l=>{F(l._id),a(l)},Y=()=>{F(null),a(null)};return e.jsxs("div",{className:"table",children:[m&&e.jsx(Be,{onClose:Y,selectedProduct:B,refreshProductList:y,setMsgDatap:S}),!m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-filter",children:e.jsx("input",{type:"text",placeholder:"Search by Name, Batch, or Code",value:A,onChange:l=>{E(l.target.value),f(0)}})}),e.jsx(Se,{component:fe,className:"table-container",children:o?e.jsx(V,{message:"Loading products..."}):e.jsxs(e.Fragment,{children:[e.jsxs(Pe,{"aria-label":"products table",children:[e.jsx(De,{children:e.jsx(Z,{children:i.map(l=>e.jsx(U,{align:"center",sortDirection:p===l.id?v:!1,children:e.jsx(ke,{active:p===l.id,direction:p===l.id?v:"asc",onClick:()=>r(l.id),children:l.label})},l.id))})}),e.jsx(Re,{children:w.length>0?w.map((l,T)=>e.jsxs(Z,{onClick:()=>H(l),style:{cursor:"pointer"},children:[e.jsx(U,{align:"center",children:l.productCode??"-"}),e.jsx(U,{align:"center",children:l.productName}),e.jsx(U,{align:"center",children:l.batchNumber||"-"}),e.jsx(U,{align:"center",children:l.expiryDate?new Date(l.expiryDate).toLocaleDateString():"-"}),e.jsxs(U,{align:"center",children:["₹",l.purchaseRate!==null?parseFloat(l.purchaseRate).toFixed(2):"0.00"]}),e.jsxs(U,{align:"center",children:["₹",l.itemRate!==null?parseFloat(l.itemRate).toFixed(2):"0.00"]}),e.jsx(U,{align:"center",children:l.totalOrders??0})]},`${l._id}-${T}`)):e.jsx(Z,{children:e.jsx(U,{colSpan:7,align:"center",children:"No products found"})})})]}),e.jsx(Te,{component:"div",count:h,page:g,onPageChange:c,rowsPerPage:R,onRowsPerPageChange:L,rowsPerPageOptions:[5,10,25,50]})]})})]}),x.show&&e.jsx(ee,{status:x.status,message:x.message,warnings:x.warnings,onClose:()=>S({...x,show:!1})})]})},Ee="https://silitzer-pharma.onrender.com",Le=({refreshProductList:b})=>{const[y,w]=s.useState(""),[P,h]=s.useState(""),[C,o]=s.useState(""),[N,x]=s.useState(""),[S,v]=s.useState(""),[D,p]=s.useState(""),[O,g]=s.useState(""),[f,R]=s.useState(""),[k,A]=s.useState(""),[E,m]=s.useState(""),[F,B]=s.useState(""),[a,n]=s.useState(null),[i,r]=s.useState(""),[c,L]=s.useState(""),[H,Y]=s.useState(""),[l,T]=s.useState([""]),[te,W]=s.useState([""]),[se,K]=s.useState([""]),[ae,q]=s.useState([""]),[re,Q]=s.useState([{key:"",value:""}]),[ne,X]=s.useState([{name:"",rate:""}]),[ue,oe]=s.useState(!1),[M,$]=s.useState({show:!1,status:null,message:"",warnings:[]}),z=(t,d,u)=>{t(I=>{const j=[...I];return j[d]=u,j})},G=t=>{t(d=>[...d,""])},le=(t,d,u)=>{X(I=>{const j=[...I];return j[t][d]=u,j})},he=()=>{X(t=>[...t,{name:"",rate:""}])},ie=(t,d,u)=>{Q(I=>{const j=[...I];return j[t][d]=u,j})},me=()=>{Q(t=>[...t,{key:"",value:""}])},ge=t=>{const d=t.target.files[0];if(n(d),d){const u=new FileReader;u.onloadend=()=>r(u.result),u.readAsDataURL(d)}else r("")},xe=()=>{w(""),h(""),o(""),x(""),v(""),p(""),g(""),R(""),A(""),m(""),B(""),n(null),r(""),L(""),Y(""),T([""]),W([""]),K([""]),q([""]),Q([{key:"",value:""}]),X([{name:"",rate:""}])},pe=async t=>{t.preventDefault();let d="",u=(a==null?void 0:a.name)||"";if(a)try{d=await new Promise((j,_)=>{const J=new FileReader;J.readAsDataURL(a),J.onload=()=>j(J.result.split(",")[1]),J.onerror=je=>_(je)})}catch(j){console.error("Failed to read image file:",j),$({show:!0,status:400,message:"Image conversion failed",warnings:[]});return}const I={productName:y,productDescription:P,other:C,itemRate:N,batchNumber:S,expiryDate:D,manufactureDate:O,hsnCode:f,purchaseRate:k,stock:E,unitsPerBox:F,imageUrl:"",manufacturer:c,countryOfOrigin:H,specifications:re,uses:se,advantages:l,howToUse:ae,features:te,taxes:ne};oe(!0);try{const j=await fetch(`${Ee}/admin/product/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productDetails:I,imageBase64:d,imageName:u})}),_=await j.json();j.ok?(b(),xe(),$({show:!0,status:200,message:"Product added successfully!",warnings:_.warnings||[]})):$({show:!0,status:400,message:_.msg||"Failed to add product",warnings:_.warnings||[]})}catch(j){console.error("Error during fetch:",j),$({show:!0,status:400,message:"Network error or server not responding.",warnings:[]})}finally{oe(!1)}};return ue?e.jsx(V,{message:"Adding product..."}):e.jsxs("div",{className:"addproduct-container",children:[e.jsxs("span",{className:"title",children:["Add Product ",e.jsx("hr",{})]}),e.jsxs("form",{className:"product-form",onSubmit:pe,children:[e.jsxs("div",{className:"form-container",children:[e.jsxs("div",{className:"left",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Product Name"}),e.jsx("input",{type:"text",value:y,onChange:t=>w(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stock"}),e.jsx("input",{type:"number",min:"0",value:E,onChange:t=>m(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Item Rate"}),e.jsx("input",{type:"text",value:N,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Units Per Box"}),e.jsx("input",{type:"number",min:"0",value:F,onChange:t=>B(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Product Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ge}),i&&e.jsx("img",{src:i,alt:"preview",style:{width:100,marginTop:10}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Manufacturer"}),e.jsx("input",{type:"text",value:c,onChange:t=>L(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country of Origin"}),e.jsx("input",{type:"text",value:H,onChange:t=>Y(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Batch Number"}),e.jsx("input",{type:"text",value:S,onChange:t=>v(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date"}),e.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",value:D,onChange:t=>p(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Manufacture Date"}),e.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",value:O,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specifications"}),re.map((t,d)=>e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[e.jsx("input",{type:"text",placeholder:"Spec Key",value:t.key,onChange:u=>ie(d,"key",u.target.value)}),e.jsx("input",{type:"text",placeholder:"Spec Value",value:t.value,onChange:u=>ie(d,"value",u.target.value)})]},d)),e.jsx("button",{type:"button",onClick:me,children:"Add More Specification"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Uses"}),se.map((t,d)=>e.jsx("input",{type:"text",value:t,onChange:u=>z(K,d,u.target.value)},d)),e.jsx("button",{type:"button",onClick:()=>G(K),children:"Add More"})]})]}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HSN Code"}),e.jsx("input",{type:"text",value:f,onChange:t=>R(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Rate"}),e.jsx("input",{type:"text",value:k,onChange:t=>A(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"How to Use"}),ae.map((t,d)=>e.jsx("input",{type:"text",value:t,onChange:u=>z(q,d,u.target.value)},d)),e.jsx("button",{type:"button",onClick:()=>G(q),children:"Add More"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Features"}),te.map((t,d)=>e.jsx("input",{type:"text",value:t,onChange:u=>z(W,d,u.target.value)},d)),e.jsx("button",{type:"button",onClick:()=>G(W),children:"Add More"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Advantages"}),l.map((t,d)=>e.jsx("input",{type:"text",value:t,onChange:u=>z(T,d,u.target.value)},d)),e.jsx("button",{type:"button",onClick:()=>G(T),children:"Add More"})]})]})]}),e.jsxs("div",{className:"form-group tax",children:[e.jsx("label",{children:"Taxes"}),ne.map((t,d)=>e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[e.jsx("input",{type:"text",placeholder:"Tax Name",value:t.name,onChange:u=>le(d,"name",u.target.value)}),e.jsx("input",{type:"text",placeholder:"Tax Rate (%)",value:t.rate,onChange:u=>le(d,"rate",u.target.value)})]},d)),e.jsx("button",{type:"button",onClick:he,children:"Add More Tax"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Product Description"}),e.jsx("textarea",{value:P,onChange:t=>h(t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Other"}),e.jsx("textarea",{value:C,onChange:t=>o(t.target.value)})]}),e.jsx("button",{type:"submit",children:"Add Product"})]}),M.show&&e.jsx(ee,{status:M.status,message:M.message,warnings:M.warnings,onClose:()=>$({...M,show:!1})})]})},Ie="https://silitzer-pharma.onrender.com",tt=()=>{const[b,y]=s.useState(!1),[w,P]=s.useState(!1),[h,C]=s.useState(0),o=()=>{y(!b)},N=()=>P(x=>!x);return s.useEffect(()=>{(async()=>{try{const v=await(await fetch(`${Ie}/admin/products/data`,{method:"GET",credentials:"include"})).json();C(v.totalCount||0)}catch(S){console.error("Failed to fetch product count:",S)}})()},[w]),e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-title",children:"Products"}),e.jsxs("div",{className:"page-nav",children:[e.jsx("button",{className:"add-products-btn",onClick:o,children:b?"View Products":"Add New"}),e.jsxs("div",{children:["Total Products: ",h]})]}),b?e.jsx(Le,{refreshProductList:N}):e.jsx(Oe,{refreshFlag:w,refreshProductList:N})]})};export{tt as default};
